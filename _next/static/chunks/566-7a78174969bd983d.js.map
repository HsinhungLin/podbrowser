{"version":3,"file":"static/chunks/566-7a78174969bd983d.js","mappings":"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","sources":["webpack://_N_E/./components/bookmark/styles.js","webpack://_N_E/./components/bookmark/bookmarkButton/index.jsx","webpack://_N_E/./components/bookmark/bookmarkText/index.jsx","webpack://_N_E/./components/bookmark/index.jsx","webpack://_N_E/./components/resourceLink/index.jsx","webpack://_N_E/./components/sortedTableCarat/index.jsx","webpack://_N_E/./components/sortedTableCarat/styles.js","webpack://_N_E/./src/contexts/bookmarksContext/index.jsx","webpack://_N_E/./src/hooks/useBookmarks/index.js","webpack://_N_E/./src/contexts/podLocationContext/index.jsx","webpack://_N_E/./src/hooks/useDataset/index.js","webpack://_N_E/./src/hooks/usePodRootUri/index.js","webpack://_N_E/./src/hooks/useResourceInfo/index.js","webpack://_N_E/./src/navigator/index.js","webpack://_N_E/./src/solidClientHelpers/bookmarks.js"],"sourcesContent":["/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { createStyles } from \"@solid/lit-prism-patterns\";\n\nconst styles = (theme, menuItem) => {\n  const bookmarkIconOutline = menuItem\n    ? `2px ${theme.palette.text.primary}`\n    : `2px ${theme.palette.grey[\"400\"]}`;\n\n  return createStyles(theme, [\"icons\", \"button\"], {\n    \"bookmark-button\": {\n      width: \"100%\",\n      height: \"100%\",\n      \"&:hover\": {\n        textDecoration: \"none\",\n      },\n    },\n    \"bookmark-menu-item\": {\n      textAlign: \"left\",\n      display: \"flex\",\n      alignItems: \"center\",\n      padding: theme.spacing(1),\n      borderRadius: \"unset\",\n      \"& i\": {\n        padding: theme.spacing(0, 0.8),\n      },\n    },\n    \"bookmark-icon-unselected\": {\n      color: theme.palette.background.paper,\n      textStroke: bookmarkIconOutline,\n    },\n    \"bookmark-icon-selected\": theme.icons.iconColor(theme.palette.primary.main),\n    \"bookmark-text\": {\n      fontSize: theme.typography.htmlFontSize,\n      textTransform: \"none\",\n      letterSpacing: \"normal\",\n      padding: 0,\n    },\n  });\n};\n\nexport default styles;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React from \"react\";\nimport { ListItem } from \"@material-ui/core\";\nimport PropTypes from \"prop-types\";\n\nconst TESTCAFE_ID_BOOKMARK_LIST_ITEM_BUTTON = \"bookmark-list-item-button\";\nconst TESTCAFE_ID_BOOKMARK_BUTTON = \"bookmark-button\";\n\nexport default function BookmarkButton({\n  children,\n  className,\n  menuItem,\n  clickHandler,\n  disabled,\n}) {\n  return menuItem ? (\n    <ListItem\n      button\n      disabled={disabled}\n      data-testid={TESTCAFE_ID_BOOKMARK_LIST_ITEM_BUTTON}\n      key=\"bookmark-pod\"\n      onClick={clickHandler}\n      className={className}\n    >\n      {children}\n    </ListItem>\n  ) : (\n    <button\n      type=\"button\"\n      data-testid={TESTCAFE_ID_BOOKMARK_BUTTON}\n      className={className}\n      onClick={clickHandler}\n      disabled={disabled}\n    >\n      {children}\n    </button>\n  );\n}\nBookmarkButton.defaultProps = {\n  children: null,\n  className: null,\n  menuItem: false,\n  clickHandler: () => {},\n  disabled: false,\n};\n\nBookmarkButton.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  menuItem: PropTypes.bool,\n  clickHandler: PropTypes.func,\n  disabled: PropTypes.bool,\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst TESTCAFE_ID_BOOKMARK_TEXT = \"bookmark-text\";\n\nexport default function BookmarkText({\n  bookmarked,\n  addText,\n  removeText,\n  className,\n}) {\n  const addString = addText || \"Add Bookmark\";\n  const removeString = removeText || \"Remove Bookmark\";\n  return (\n    <span data-testid={TESTCAFE_ID_BOOKMARK_TEXT} className={className}>\n      {bookmarked ? removeString : addString}\n    </span>\n  );\n}\n\nBookmarkText.propTypes = {\n  bookmarked: PropTypes.bool,\n  addText: PropTypes.string,\n  removeText: PropTypes.string,\n  className: PropTypes.string,\n};\n\nBookmarkText.defaultProps = {\n  bookmarked: null,\n  addText: null,\n  removeText: null,\n  className: null,\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { useSession } from \"@inrupt/solid-ui-react\";\nimport PropTypes from \"prop-types\";\nimport { createStyles, makeStyles } from \"@material-ui/styles\";\nimport { useBem } from \"@solid/lit-prism-patterns\";\nimport clsx from \"clsx\";\nimport { getThingAll, getUrl } from \"@inrupt/solid-client\";\nimport styles from \"./styles\";\nimport {\n  addBookmark,\n  RECALLS_PROPERTY_IRI,\n  removeBookmark,\n} from \"../../src/solidClientHelpers/bookmarks\";\nimport BookmarksContext from \"../../src/contexts/bookmarksContext\";\nimport BookmarkButton from \"./bookmarkButton\";\nimport BookmarkText from \"./bookmarkText\";\nimport AlertContext from \"../../src/contexts/alertContext\";\n\nconst BOOKMARK_ADDED_NOTIFICATION_MESSAGE = \"Resource added to bookmarks\";\nconst BOOKMARK_REMOVED_NOTIFICATION_MESSAGE = \"Bookmark removed\";\n\nexport const toggleBookmarkHandler = ({\n  bookmarks,\n  iri,\n  setSeverity,\n  setMessage,\n  setAlertOpen,\n  bookmarked,\n  setBookmarks,\n  setBookmarked,\n  setDisabled,\n  profileName,\n  fetch,\n}) => {\n  return async () => {\n    setDisabled(true);\n    let results;\n    let message;\n    if (bookmarked) {\n      results = await removeBookmark(iri, bookmarks, fetch);\n      message = BOOKMARK_REMOVED_NOTIFICATION_MESSAGE;\n    } else {\n      results = await addBookmark(iri, bookmarks, profileName, fetch);\n      message = BOOKMARK_ADDED_NOTIFICATION_MESSAGE;\n    }\n    const { response, error } = results;\n    if (error) {\n      setSeverity(\"error\");\n      setMessage(error);\n      setAlertOpen(true);\n    } else {\n      setBookmarked(!bookmarked);\n      setSeverity(\"success\");\n      setMessage(message);\n      setAlertOpen(true);\n      setBookmarks(response);\n    }\n  };\n};\n\nconst isBookmarked = (iri, dataset) => {\n  const listOfRecallsUrls = getThingAll(dataset).map((t) =>\n    getUrl(t, RECALLS_PROPERTY_IRI)\n  );\n  return listOfRecallsUrls.includes(iri);\n};\n\nexport default function Bookmark({\n  iri,\n  menuItem,\n  withText,\n  addText,\n  removeText,\n  profileName,\n}) {\n  const { session } = useSession();\n  const { setAlertOpen, setMessage, setSeverity } = useContext(AlertContext);\n  const { fetch } = session;\n  const useStyles = makeStyles((theme) =>\n    createStyles(styles(theme, menuItem))\n  );\n  const bem = useBem(useStyles());\n  const { bookmarks, setBookmarks } = useContext(BookmarksContext);\n  const [bookmarked, setBookmarked] = useState();\n  const [disabled, setDisabled] = useState(true);\n\n  useEffect(() => {\n    if (!bookmarks) {\n      return;\n    }\n    const { dataset } = bookmarks;\n    if (!dataset) {\n      return;\n    }\n    const bookmarkState = isBookmarked(iri, dataset);\n    setBookmarked(bookmarkState);\n    setDisabled(false);\n  }, [bookmarks, iri, setBookmarked, setDisabled]);\n\n  const toggleBookmark = toggleBookmarkHandler({\n    bookmarks,\n    bookmarked,\n    iri,\n    setSeverity,\n    setMessage,\n    setAlertOpen,\n    setBookmarked,\n    setBookmarks,\n    setDisabled,\n    profileName,\n    fetch,\n  });\n\n  const bookmarkIconClass = bookmarked\n    ? \"bookmark-icon-selected\"\n    : \"bookmark-icon-unselected\";\n\n  const bookmarkButtonClass = menuItem\n    ? clsx(bem(\"bookmark-menu-item\"))\n    : clsx(\n        bem(\"button\", \"text\"),\n        bem(\"bookmark-button\"),\n        menuItem && bem(\"bookmark-menu-item\")\n      );\n\n  return (\n    <BookmarkButton\n      className={bookmarkButtonClass}\n      menuItem={menuItem}\n      clickHandler={toggleBookmark}\n      disabled={disabled}\n    >\n      <i\n        className={clsx(bem(\"icon-star\"), bem(\"icon\"), bem(bookmarkIconClass))}\n        aria-label=\"bookmark\"\n        alt=\"bookmark button\"\n      />\n      {(withText || menuItem) && (\n        <BookmarkText\n          bookmarked={bookmarked}\n          addText={addText}\n          removeText={removeText}\n          className={bem(\"bookmark-text\")}\n        />\n      )}\n    </BookmarkButton>\n  );\n}\n\nBookmark.propTypes = {\n  iri: PropTypes.string.isRequired,\n  menuItem: PropTypes.bool,\n  withText: PropTypes.bool,\n  addText: PropTypes.string,\n  removeText: PropTypes.string,\n  profileName: PropTypes.string,\n};\n\nBookmark.defaultProps = {\n  menuItem: false,\n  withText: false,\n  addText: null,\n  removeText: null,\n  profileName: null,\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useContext } from \"react\";\nimport Link from \"next/link\";\nimport T from \"prop-types\";\nimport PodLocationContext from \"../../src/contexts/podLocationContext\";\nimport { urlForResourceAction } from \"../../src/navigator\";\n\n/* eslint react/jsx-props-no-spreading: 0 */\nexport default function ResourceLink(props) {\n  const { children, action, resourceIri, containerIri, ...linkProps } = props;\n\n  // If resource and container aren't passed in, create a link to show <action> for the current uri.\n  const { currentUri } = useContext(PodLocationContext);\n  const resourceIriToDisplay = resourceIri || currentUri;\n  const containerIriToUseAsBase = containerIri || currentUri;\n\n  return (\n    <Link\n      href={urlForResourceAction(\n        action,\n        resourceIriToDisplay,\n        containerIriToUseAsBase\n      )}\n      replace\n      prefetch={false}\n    >\n      <a {...linkProps}>{children}</a>\n    </Link>\n  );\n}\n\nResourceLink.propTypes = {\n  action: T.string,\n  children: T.node,\n  className: T.string,\n  resourceIri: T.string,\n  containerIri: T.string,\n  ref: T.node,\n};\n\nResourceLink.defaultProps = {\n  action: null,\n  children: null,\n  className: null,\n  resourceIri: null,\n  containerIri: null,\n  ref: null,\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React from \"react\";\nimport clsx from \"clsx\";\nimport { useBem } from \"@solid/lit-prism-patterns\";\nimport { createStyles, makeStyles } from \"@material-ui/styles\";\nimport T from \"prop-types\";\nimport styles from \"./styles\";\n\nconst useStyles = makeStyles((theme) => createStyles(styles(theme)));\n\nexport default function SortedTableCarat({ sorted, sortedDesc }) {\n  const bem = useBem(useStyles());\n\n  if (!sorted) {\n    return null;\n  }\n\n  return (\n    <i\n      className={clsx(\n        bem(sortedDesc ? \"icon-caret-down\" : \"icon-caret-up\"),\n        bem(\"table__icon\")\n      )}\n    />\n  );\n}\n\nSortedTableCarat.propTypes = {\n  sorted: T.bool.isRequired,\n  sortedDesc: T.bool,\n};\n\nSortedTableCarat.defaultProps = {\n  sortedDesc: null,\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { createStyles } from \"@solid/lit-prism-patterns\";\n\nexport default function styles(theme) {\n  return createStyles(theme, [\"icons\", \"table\"], {\n    table__icon: {\n      marginLeft: \"0.5em\",\n    },\n  });\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { createContext } from \"react\";\nimport PropTypes from \"prop-types\";\nimport useBookmarks from \"../../hooks/useBookmarks\";\n\nexport const defaultBookmarksContext = {\n  bookmarks: null,\n  setBookmarks: () => {},\n};\n\nconst BookmarksContext = createContext(defaultBookmarksContext);\n\nfunction BookmarksContextProvider({ children }) {\n  const [bookmarks, setBookmarks] = useBookmarks();\n  return (\n    <BookmarksContext.Provider\n      value={{\n        bookmarks,\n        setBookmarks,\n      }}\n    >\n      {children}\n    </BookmarksContext.Provider>\n  );\n}\n\nBookmarksContextProvider.propTypes = {\n  children: PropTypes.node,\n};\n\nBookmarksContextProvider.defaultProps = {\n  children: null,\n};\n\nexport { BookmarksContextProvider };\nexport default BookmarksContext;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useState, useContext, useEffect } from \"react\";\nimport { useSession } from \"@inrupt/solid-ui-react\";\nimport AlertContext from \"../../contexts/alertContext\";\nimport useAuthenticatedProfile from \"../useAuthenticatedProfile\";\nimport { joinPath } from \"../../stringHelpers\";\nimport { getResource } from \"../../solidClientHelpers/resource\";\nimport { initializeBookmarks } from \"../../solidClientHelpers/bookmarks\";\nimport { ERROR_CODES, isHTTPError } from \"../../error\";\n\nconst BOOKMARKS_PATH = \"bookmarks/index.ttl\";\n\nexport default function useBookmarks() {\n  const { data: profile } = useAuthenticatedProfile();\n  const { session } = useSession();\n  const { setMessage, setAlertOpen, setSeverity } = useContext(AlertContext);\n  const [bookmarks, setBookmarks] = useState();\n  const [updatedBookmarks, setUpdatedBookmarks] = useState();\n  const { fetch } = session;\n\n  useEffect(() => {\n    if (!session.info.isLoggedIn || !profile) return;\n    const { pods } = profile;\n    const pod = pods[0];\n\n    const bookmarksIri = joinPath(pod, BOOKMARKS_PATH);\n    (async () => {\n      try {\n        const { response: existingBookmarks, error } = await getResource(\n          bookmarksIri,\n          fetch\n        );\n        if (error && isHTTPError(error, ERROR_CODES.NOT_FOUND)) {\n          const newBookmarks = await initializeBookmarks(bookmarksIri, fetch);\n          setBookmarks(newBookmarks);\n        } else {\n          setBookmarks(existingBookmarks);\n        }\n      } catch (error) {\n        setBookmarks([]);\n        setSeverity(\"error\");\n        setMessage(error);\n        setAlertOpen(true);\n      }\n    })();\n  }, [\n    profile,\n    fetch,\n    setBookmarks,\n    updatedBookmarks,\n    setAlertOpen,\n    setMessage,\n    setSeverity,\n    session,\n  ]);\n  return [bookmarks, setUpdatedBookmarks];\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { createContext } from \"react\";\nimport T from \"prop-types\";\nimport usePodRootUri from \"../../hooks/usePodRootUri\";\n\nconst PodLocationContext = createContext({\n  currentUri: \"\",\n});\n\nfunction PodLocationProvider({ children, currentUri }) {\n  const baseUri = usePodRootUri(currentUri);\n  return (\n    <PodLocationContext.Provider value={{ baseUri, currentUri }}>\n      {children}\n    </PodLocationContext.Provider>\n  );\n}\n\nPodLocationProvider.propTypes = {\n  children: T.node,\n  currentUri: T.string,\n};\n\nPodLocationProvider.defaultProps = {\n  children: null,\n  currentUri: null,\n};\n\nexport { PodLocationProvider };\nexport default PodLocationContext;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useSession } from \"@inrupt/solid-ui-react\";\nimport useSWR from \"swr\";\nimport { getSolidDataset } from \"@inrupt/solid-client\";\n\nexport const GET_DATASET = \"getDataset\";\n\nexport default function useDataset(url, options = {}) {\n  const { fetch } = useSession();\n  return useSWR(\n    [url, GET_DATASET],\n    async () => {\n      if (!url) return null;\n      return getSolidDataset(url, { fetch });\n    },\n    options\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useEffect, useState } from \"react\";\nimport { getPodOwner } from \"@inrupt/solid-client\";\nimport {\n  getPodConnectedToProfile,\n  packageProfile,\n} from \"../../solidClientHelpers/profile\";\nimport useAuthenticatedProfile from \"../useAuthenticatedProfile\";\nimport useResourceInfo from \"../useResourceInfo\";\nimport useDataset from \"../useDataset\";\n\nfunction normalizeBaseUri(baseUri) {\n  return baseUri[baseUri.length - 1] === \"/\" ? baseUri : `${baseUri}/`;\n}\n\nexport default function usePodRootUri(location) {\n  const [rootUri, setRootUri] = useState(null);\n  const { data: profile } = useAuthenticatedProfile();\n  const { data: resourceInfo } = useResourceInfo(location, {\n    errorRetryCount: 0, // This usually returns a 403 when visiting someone else's Pod, so we don't want to retry that call\n  });\n  const [podOwnerUri, setPodOwnerUri] = useState(null);\n  const { data: podOwnerDataset, error: podOwnerError } =\n    useDataset(podOwnerUri);\n\n  useEffect(() => {\n    if (!location || location === \"undefined\" || !profile) {\n      setRootUri(null);\n      return;\n    }\n    const profilePod = getPodConnectedToProfile(profile, location);\n    if (profilePod) {\n      setRootUri(normalizeBaseUri(profilePod));\n      return;\n    }\n    const podOwner = getPodOwner(resourceInfo);\n    setPodOwnerUri(podOwner);\n    if (!podOwner || podOwnerError) {\n      const { origin } = new URL(location);\n      setRootUri(normalizeBaseUri(origin));\n      return;\n    }\n    if (podOwner && podOwnerDataset) {\n      const podOwnerProfile = packageProfile(podOwner, podOwnerDataset);\n      const podOwnerPod = getPodConnectedToProfile(podOwnerProfile, location);\n      setRootUri(podOwnerPod);\n    }\n  }, [location, podOwnerDataset, podOwnerError, profile, resourceInfo]);\n\n  return rootUri;\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { getResourceInfo } from \"@inrupt/solid-client\";\nimport { useSession } from \"@inrupt/solid-ui-react\";\nimport useSWR from \"swr\";\n\nexport const GET_RESOURCE_INFO = \"getResourceInfo\";\nexport default function useResourceInfo(iri, swrOptions = {}) {\n  const { fetch } = useSession();\n\n  return useSWR(\n    iri && iri !== \"undefined\" ? [iri, GET_RESOURCE_INFO] : null,\n    () => getResourceInfo(iri, { fetch }, swrOptions)\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nexport function resourceHref(iri) {\n  return `/resource/${encodeURIComponent(iri)}`;\n}\n\nexport const urlForResourceAction = (action, resourceIri, containerIri) => ({\n  pathname: containerIri ? resourceHref(containerIri) : \"/resource/[iri]\",\n  ...(action\n    ? {\n        query: {\n          action,\n          resourceIri,\n        },\n      }\n    : {}),\n});\n\nexport function resourceContextRedirect(\n  action,\n  resourceIri,\n  containerIri,\n  router\n) {\n  return router.replace(\n    urlForResourceAction(action, resourceIri, undefined),\n    urlForResourceAction(action, resourceIri, containerIri)\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport {\n  addDatetime,\n  addStringNoLocale,\n  addUrl,\n  createSolidDataset,\n  createThing,\n  getThingAll,\n  getUrl,\n  removeThing,\n  setThing,\n} from \"@inrupt/solid-client\";\nimport { dct, rdf } from \"rdf-namespaces\";\nimport { getResourceName, saveResource } from \"./resource\";\nimport { defineThing } from \"./utils\";\n\nexport async function initializeBookmarks(iri, fetch) {\n  const index = createThing();\n  const indexDataset = setThing(createSolidDataset(), index);\n  const thing = {\n    iri,\n    dataset: indexDataset,\n  };\n  const { response: bookmarks } = await saveResource(thing, fetch);\n  return { dataset: bookmarks, iri };\n}\n\nexport const RECALLS_PROPERTY_IRI =\n  \"http://www.w3.org/2002/01/bookmark#recalls\";\nexport const BOOKMARK_TYPE_IRI = \"http://www.w3.org/2002/01/bookmark#Bookmark\";\n\nexport async function addBookmark(bookmarkIri, bookmarks, profileName, fetch) {\n  const { dataset, iri } = bookmarks;\n\n  const resourceName = getResourceName(bookmarkIri);\n\n  const bookmarkTitle =\n    !resourceName.length && profileName ? `${profileName}'s Pod` : resourceName;\n\n  const [existingBookmark] = getThingAll(dataset).filter(\n    (t) => getUrl(t, RECALLS_PROPERTY_IRI) === bookmarkIri\n  );\n  if (existingBookmark) {\n    return { response: bookmarks, error: null };\n  }\n  const bookmark = defineThing(\n    {},\n    (t) => addUrl(t, rdf.type, BOOKMARK_TYPE_IRI),\n    (t) => addStringNoLocale(t, dct.title, bookmarkTitle),\n    (t) => addUrl(t, RECALLS_PROPERTY_IRI, bookmarkIri),\n    (t) => addDatetime(t, dct.created, new Date())\n  );\n  const bookmarkResource = {\n    dataset: setThing(dataset, bookmark),\n    iri,\n  };\n  return saveResource(bookmarkResource, fetch);\n}\n\nexport async function removeBookmark(bookmarkIri, bookmarks, fetch) {\n  const { dataset, iri } = bookmarks;\n  const [bookmarkToDelete] = getThingAll(dataset).filter(\n    (t) => getUrl(t, RECALLS_PROPERTY_IRI) === bookmarkIri\n  );\n  if (!bookmarkToDelete) {\n    return { response: bookmarks, error: null };\n  }\n  const updatedDataset = {\n    dataset: removeThing(dataset, bookmarkToDelete),\n    iri,\n  };\n  return saveResource(updatedDataset, fetch);\n}\n"],"names":["theme","menuItem","bookmarkIconOutline","palette","text","primary","grey","createStyles","width","height","textDecoration","textAlign","display","alignItems","padding","spacing","borderRadius","color","background","paper","textStroke","icons","iconColor","main","fontSize","typography","htmlFontSize","textTransform","letterSpacing","BookmarkButton","children","className","clickHandler","disabled","ListItem","button","key","onClick","type","defaultProps","BookmarkText","bookmarked","addText","removeText","addString","removeString","Bookmark","iri","withText","profileName","session","useSession","useContext","AlertContext","setAlertOpen","setMessage","setSeverity","fetch","useStyles","makeStyles","styles","bem","useBem","BookmarksContext","bookmarks","setBookmarks","useState","setBookmarked","setDisabled","useEffect","dataset","bookmarkState","getThingAll","map","t","getUrl","RECALLS_PROPERTY_IRI","includes","isBookmarked","toggleBookmark","removeBookmark","results","message","addBookmark","response","error","toggleBookmarkHandler","bookmarkIconClass","bookmarkButtonClass","clsx","alt","ResourceLink","props","action","resourceIri","containerIri","linkProps","currentUri","PodLocationContext","resourceIriToDisplay","containerIriToUseAsBase","href","urlForResourceAction","replace","prefetch","ref","table__icon","marginLeft","SortedTableCarat","sorted","sortedDesc","defaultBookmarksContext","createContext","BookmarksContextProvider","profile","useAuthenticatedProfile","data","updatedBookmarks","setUpdatedBookmarks","info","isLoggedIn","pod","pods","bookmarksIri","joinPath","getResource","existingBookmarks","isHTTPError","ERROR_CODES","initializeBookmarks","newBookmarks","useBookmarks","Provider","value","PodLocationProvider","baseUri","usePodRootUri","GET_DATASET","normalizeBaseUri","length","location","rootUri","setRootUri","resourceInfo","useResourceInfo","errorRetryCount","podOwnerUri","setPodOwnerUri","url","options","useSWR","getSolidDataset","useDataset","podOwnerDataset","podOwnerError","profilePod","getPodConnectedToProfile","podOwner","getPodOwner","podOwnerProfile","packageProfile","podOwnerPod","origin","URL","GET_RESOURCE_INFO","swrOptions","getResourceInfo","resourceHref","encodeURIComponent","pathname","query","resourceContextRedirect","router","undefined","index","createThing","indexDataset","setThing","createSolidDataset","thing","saveResource","BOOKMARK_TYPE_IRI","bookmarkIri","resourceName","getResourceName","bookmarkTitle","filter","bookmark","defineThing","addUrl","rdf","addStringNoLocale","dct","addDatetime","Date","bookmarkResource","bookmarkToDelete","updatedDataset","removeThing"],"sourceRoot":""}