{"version":3,"file":"static/chunks/954-3ea9d7a96dc8c5f8.js","mappings":"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","sources":["webpack://_N_E/./node_modules/auth-header/dist/format.js","webpack://_N_E/./node_modules/auth-header/dist/index.js","webpack://_N_E/./node_modules/auth-header/dist/parse.js","webpack://_N_E/./node_modules/auth-header/dist/util.js","webpack://_N_E/./node_modules/@inrupt/solid-client-access-grants/dist/constants.mjs","webpack://_N_E/./node_modules/@inrupt/solid-client-access-grants/dist/discover/getAccessApiEndpoint.mjs","webpack://_N_E/./node_modules/@inrupt/solid-client-access-grants/dist/guard/isBaseAccessRequestVerifiableCredential.mjs","webpack://_N_E/./node_modules/@inrupt/solid-client-access-grants/dist/guard/isBaseAccessVcBody.mjs","webpack://_N_E/./node_modules/@inrupt/solid-client-access-grants/dist/guard/isConsentContext.mjs","webpack://_N_E/./node_modules/@inrupt/solid-client-access-grants/dist/guard/isAccessCredentialType.mjs","webpack://_N_E/./node_modules/@inrupt/solid-client-access-grants/dist/guard/isConsentAttributes.mjs","webpack://_N_E/./node_modules/@inrupt/solid-client-access-grants/dist/guard/isUnknownObject.mjs","webpack://_N_E/./node_modules/@inrupt/solid-client-access-grants/dist/util/accessToResourceAccessModeArray.mjs","webpack://_N_E/./node_modules/@inrupt/solid-client-access-grants/dist/util/getBaseAccessVerifiableCredential.mjs","webpack://_N_E/./node_modules/@inrupt/solid-client-access-grants/dist/guard/isBaseAccessGrantVerifiableCredential.mjs","webpack://_N_E/./node_modules/@inrupt/solid-client-access-grants/dist/util/getSessionFetch.mjs","webpack://_N_E/./node_modules/@inrupt/solid-client-vc/dist/common/common.mjs","webpack://_N_E/./node_modules/@inrupt/solid-client-vc/dist/fetcher.mjs"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _util = require(\"./util\");\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); }\n\nfunction _iterableToArrayLimit(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nvar xxx = function xxx(key) {\n  return function (value) {\n    return `${key}=${value && !(0, _util.isToken)(value) ? (0, _util.quote)(value) : value}`;\n  };\n};\n\nvar build = function build(params) {\n  return params.reduce(function (prev, _ref) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        key = _ref2[0],\n        values = _ref2[1];\n\n    var transform = xxx(key);\n\n    if (!(0, _util.isToken)(key)) {\n      throw new TypeError();\n    }\n\n    if (Array.isArray(values)) {\n      return _toConsumableArray(prev).concat(_toConsumableArray(values.map(transform)));\n    }\n\n    return _toConsumableArray(prev).concat([transform(values)]);\n  }, []);\n};\n\nvar challenge = function challenge(params, options) {\n  if (Array.isArray(params)) {\n    return build(params);\n  } else if (typeof params === 'object') {\n    var entries = params;\n    return challenge(Object.keys(params).map(function (key) {\n      return [key, entries[key]];\n    }), options);\n  }\n\n  throw new TypeError();\n};\n\nvar _default = function _default(scheme, token, params) {\n  var obj = typeof scheme === 'string' ? {\n    scheme,\n    token,\n    params\n  } : scheme;\n\n  if (typeof obj !== 'object') {\n    throw new TypeError();\n  } else if (!(0, _util.isScheme)(obj.scheme)) {\n    throw new TypeError('Invalid scheme.');\n  }\n\n  return [obj.scheme].concat(_toConsumableArray(typeof obj.token !== 'undefined' ? [obj.token] : []), _toConsumableArray(typeof obj.params !== 'undefined' ? challenge(obj.params) : [])).join(' ');\n};\n\nexports.default = _default;\n//# sourceMappingURL=format.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"format\", {\n  enumerable: true,\n  get: function get() {\n    return _format.default;\n  }\n});\nObject.defineProperty(exports, \"parse\", {\n  enumerable: true,\n  get: function get() {\n    return _parse.default;\n  }\n});\n\nvar _format = _interopRequireDefault(require(\"./format\"));\n\nvar _parse = _interopRequireDefault(require(\"./parse\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//# sourceMappingURL=index.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _util = require(\"./util\");\n\n// lol dis\nvar body = /((?:[a-zA-Z0-9._~+\\/-]+=*(?:\\s+|$))|[^\\u0000-\\u001F\\u007F()<>@,;:\\\\\"/?={}\\[\\]\\u0020\\u0009]+)(?:=([^\\\\\"=\\s,]+|\"(?:[^\"\\\\]|\\\\.)*\"))?/g; // eslint-disable-line\n\nvar normalize = function normalize(prev, _cur) {\n  // Fixup quoted strings and tokens with spaces around them\n  var cur = _cur.charAt(0) === '\"' ? (0, _util.unquote)(_cur) : _cur.trim(); // Marshal\n\n  if (Array.isArray(prev)) {\n    return prev.concat(cur);\n  } else if (typeof prev === 'string') {\n    return [prev, cur];\n  }\n\n  return cur;\n};\n\nvar parseProperties = function parseProperties(scheme, string) {\n  var token = null;\n  var params = {}; // eslint-disable-next-line no-constant-condition\n\n  while (true) {\n    var res = body.exec(string);\n\n    if (res === null) {\n      break;\n    }\n\n    if (res[2]) {\n      params[res[1]] = normalize(params[res[1]], res[2]);\n    } else {\n      token = normalize(token, res[1]);\n    }\n  }\n\n  return {\n    scheme,\n    params,\n    token\n  };\n};\n\nvar _default = function _default(str) {\n  if (typeof str !== 'string') {\n    throw new TypeError('Header value must be a string.');\n  }\n\n  var start = str.indexOf(' ');\n  var scheme = str.substr(0, start);\n\n  if (!(0, _util.isScheme)(scheme)) {\n    throw new TypeError(`Invalid scheme ${scheme}`);\n  }\n\n  return parseProperties(scheme, str.substr(start));\n};\n\nexports.default = _default;\n//# sourceMappingURL=parse.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unquote = exports.quote = exports.isScheme = exports.isToken = void 0;\nvar token = /^[^\\u0000-\\u001F\\u007F()<>@,;:\\\\\"/?={}\\[\\]\\u0020\\u0009]+$/;\n\nvar isToken = function isToken(str) {\n  return typeof str === 'string' && token.test(str);\n};\n\nexports.isToken = isToken;\nvar isScheme = isToken;\nexports.isScheme = isScheme;\n\nvar quote = function quote(str) {\n  return `\"${str.replace(/\"/g, '\\\\\"')}\"`;\n};\n\nexports.quote = quote;\n\nvar unquote = function unquote(str) {\n  return str.substr(1, str.length - 2).replace(/\\\\\"/g, '\"');\n};\n\nexports.unquote = unquote;\n//# sourceMappingURL=util.js.map","/**\r\n * Copyright 2022 Inrupt Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\r\n * Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n// TODO: Check that these are actually the modes you can request.\r\n//       The Server API doc does refer to `acl:` as a prefix,\r\n//       although that is not listed in the example context.\r\nconst ACL_RESOURCE_ACCESS_MODE_APPEND = \"http://www.w3.org/ns/auth/acl#Append\";\r\nconst ACL_RESOURCE_ACCESS_MODE_CONTROL = \"http://www.w3.org/ns/auth/acl#Control\";\r\nconst ACL_RESOURCE_ACCESS_MODE_READ = \"http://www.w3.org/ns/auth/acl#Read\";\r\nconst ACL_RESOURCE_ACCESS_MODE_WRITE = \"http://www.w3.org/ns/auth/acl#Write\";\r\nconst GC_CONSENT_STATUS_DENIED = \"https://w3id.org/GConsent#ConsentStatusDenied\";\r\nconst GC_CONSENT_STATUS_EXPLICITLY_GIVEN = \"https://w3id.org/GConsent#ConsentStatusExplicitlyGiven\";\r\nconst GC_CONSENT_STATUS_REQUESTED = \"https://w3id.org/GConsent#ConsentStatusRequested\";\r\n// TODO: Add dependency on generated vocabulary.\r\nconst PIM_STORAGE = \"http://www.w3.org/ns/pim/space#storage\";\r\n// TODO: This is a temporary filler term, until we publish a definitive term for this.\r\nconst PREFERRED_CONSENT_MANAGEMENT_UI = \"http://inrupt.com/ns/ess#ConsentManagementUI\";\r\nconst CONSENT_CONTEXT = [\r\n    \"https://www.w3.org/2018/credentials/v1\",\r\n    \"https://consent.pod.inrupt.com/credentials/v1\",\r\n];\r\nconst CREDENTIAL_TYPE_ACCESS_REQUEST = \"SolidAccessRequest\";\r\nconst CREDENTIAL_TYPE_ACCESS_GRANT = \"SolidAccessGrant\";\r\nconst CREDENTIAL_TYPE_ACCESS_DENIAL = \"SolidAccessDenial\";\r\nconst CREDENTIAL_TYPE_LEGACY_CONSENT_REQUEST = \"SolidConsentRequest\";\r\nconst ACCESS_CREDENTIAL_TYPE = new Set([\r\n    CREDENTIAL_TYPE_ACCESS_REQUEST,\r\n    CREDENTIAL_TYPE_ACCESS_GRANT,\r\n    CREDENTIAL_TYPE_ACCESS_DENIAL,\r\n    CREDENTIAL_TYPE_LEGACY_CONSENT_REQUEST,\r\n]);\r\nconst CONSENT_STATUS = new Set([\r\n    GC_CONSENT_STATUS_DENIED,\r\n    GC_CONSENT_STATUS_EXPLICITLY_GIVEN,\r\n    GC_CONSENT_STATUS_REQUESTED,\r\n]);\r\nconst RESOURCE_ACCESS_MODE = new Set([\r\n    ACL_RESOURCE_ACCESS_MODE_APPEND,\r\n    ACL_RESOURCE_ACCESS_MODE_CONTROL,\r\n    ACL_RESOURCE_ACCESS_MODE_READ,\r\n    ACL_RESOURCE_ACCESS_MODE_WRITE,\r\n]);\n\nexport { ACCESS_CREDENTIAL_TYPE, ACL_RESOURCE_ACCESS_MODE_APPEND, ACL_RESOURCE_ACCESS_MODE_CONTROL, ACL_RESOURCE_ACCESS_MODE_READ, ACL_RESOURCE_ACCESS_MODE_WRITE, CONSENT_CONTEXT, CONSENT_STATUS, CREDENTIAL_TYPE_ACCESS_DENIAL, CREDENTIAL_TYPE_ACCESS_GRANT, CREDENTIAL_TYPE_ACCESS_REQUEST, CREDENTIAL_TYPE_LEGACY_CONSENT_REQUEST, GC_CONSENT_STATUS_DENIED, GC_CONSENT_STATUS_EXPLICITLY_GIVEN, GC_CONSENT_STATUS_REQUESTED, PIM_STORAGE, PREFERRED_CONSENT_MANAGEMENT_UI, RESOURCE_ACCESS_MODE };\n","import { fetch } from 'cross-fetch';\nimport { parse } from 'auth-header';\n\n/**\r\n * Copyright 2022 Inrupt Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\r\n * Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\nasync function getAccessEndpointForResource(resource) {\r\n    // Explicitly makes an unauthenticated fetch to be sure to get the link to the\r\n    // authorization server.\r\n    const response = await fetch(resource);\r\n    if (!response.headers.has(\"WWW-Authenticate\")) {\r\n        throw new Error(`Expected a 401 error with a WWW-Authenticate header, got a [${response.status}: ${response.statusText}] response lacking the WWW-Authenticate header.`);\r\n    }\r\n    const authHeader = response.headers.get(\"WWW-Authenticate\");\r\n    const authHeaderToken = parse(authHeader);\r\n    if (authHeaderToken.scheme !== \"UMA\") {\r\n        throw new Error(`Unsupported authorization scheme: [${authHeaderToken.scheme}]`);\r\n    }\r\n    const authorizationServerIri = authHeaderToken.params.as_uri;\r\n    const wellKnownIri = new URL(\"/.well-known/uma2-configuration\", authorizationServerIri);\r\n    const rawDiscoveryDocument = await fetch(wellKnownIri.href);\r\n    const discoveryDocument = await rawDiscoveryDocument.json();\r\n    if (typeof discoveryDocument.verifiable_credential_issuer !== \"string\") {\r\n        throw new Error(`No access issuer listed for property [verifiable_credential_issuer] in [${JSON.stringify(discoveryDocument)}]`);\r\n    }\r\n    return discoveryDocument.verifiable_credential_issuer;\r\n}\r\n/**\r\n * Discovers the endpoint where access requests may be created for a given resource.\r\n *\r\n * @param resource The resource for which access may be requested.\r\n * @param options Optional properties to customise the access request behaviour.\r\n * @returns The URL of the access request server.\r\n * @since 0.4.0\r\n */\r\nasync function getAccessApiEndpoint(resource, options = {}) {\r\n    if (options.accessEndpoint !== undefined) {\r\n        return options.accessEndpoint.toString();\r\n    }\r\n    if (options.consentEndpoint !== undefined) {\r\n        return options.consentEndpoint.toString();\r\n    }\r\n    return getAccessEndpointForResource(resource.toString());\r\n}\r\n/**\r\n * @hidden deprecated alias of [[getAccessApiEndpoint]]\r\n * @since 0.0.1\r\n * @deprecated\r\n */\r\nconst getConsentApiEndpoint = getAccessApiEndpoint;\n\nexport default getAccessApiEndpoint;\nexport { getAccessApiEndpoint, getConsentApiEndpoint };\n","import { isConsentAttributes } from './isConsentAttributes.mjs';\nimport { isBaseAccessVcBody } from './isBaseAccessVcBody.mjs';\n\n/**\r\n * Copyright 2022 Inrupt Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\r\n * Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\nfunction isRequestCredentialSubject(x) {\r\n    return x.hasConsent !== undefined;\r\n}\r\nfunction isBaseAccessRequestVerifiableCredential(x) {\r\n    return (isBaseAccessVcBody(x) &&\r\n        isRequestCredentialSubject(x.credentialSubject) &&\r\n        isConsentAttributes(x.credentialSubject.hasConsent));\r\n}\n\nexport { isBaseAccessRequestVerifiableCredential };\n","import { isAccessCredentialType } from './isAccessCredentialType.mjs';\nimport { isConsentContext } from './isConsentContext.mjs';\nimport { isUnknownObject } from './isUnknownObject.mjs';\n\n/**\r\n * Copyright 2022 Inrupt Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\r\n * Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\nfunction isBaseAccessVcBody(x) {\r\n    return (isUnknownObject(x) &&\r\n        isConsentContext(x[\"@context\"]) &&\r\n        Array.isArray(x.type) &&\r\n        isAccessCredentialType(x.type) &&\r\n        isUnknownObject(x.credentialSubject) &&\r\n        typeof x.credentialSubject.id === \"string\" &&\r\n        (typeof x.credentialSubject.inbox === \"string\" ||\r\n            typeof x.credentialSubject.inbox === \"undefined\") &&\r\n        (x.issuanceDate !== undefined ? typeof x.issuanceDate === \"string\" : true));\r\n}\n\nexport { isBaseAccessVcBody };\n","import { CONSENT_CONTEXT } from '../constants.mjs';\n\n/**\r\n * Copyright 2022 Inrupt Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\r\n * Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\nfunction isConsentContext(x) {\r\n    return Array.isArray(x) && CONSENT_CONTEXT.every((y) => x.includes(y));\r\n}\n\nexport { isConsentContext };\n","import { ACCESS_CREDENTIAL_TYPE } from '../constants.mjs';\n\n/**\r\n * Copyright 2022 Inrupt Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\r\n * Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\nfunction isAccessCredentialType(x) {\r\n    return Array.isArray(x) && x.some((y) => ACCESS_CREDENTIAL_TYPE.has(y));\r\n}\n\nexport { isAccessCredentialType };\n","import { RESOURCE_ACCESS_MODE, CONSENT_STATUS } from '../constants.mjs';\nimport { isUnknownObject } from './isUnknownObject.mjs';\n\n/**\r\n * Copyright 2022 Inrupt Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\r\n * Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\nfunction isResourceAccessModeArray(x) {\r\n    return Array.isArray(x) && x.every((y) => RESOURCE_ACCESS_MODE.has(y));\r\n}\r\nfunction isConsentStatus(x) {\r\n    return typeof x === \"string\" && CONSENT_STATUS.has(x);\r\n}\r\n// TODO: Discuss a strongly typed UrlString guard (as a team).\r\nfunction isStringArray(x) {\r\n    return Array.isArray(x) && x.every((y) => typeof y === \"string\");\r\n}\r\nfunction isConsentAttributes(x) {\r\n    return (isUnknownObject(x) &&\r\n        isResourceAccessModeArray(x.mode) &&\r\n        isConsentStatus(x.hasStatus) &&\r\n        isStringArray(x.forPersonalData));\r\n}\n\nexport { isConsentAttributes };\n","/**\r\n * Copyright 2022 Inrupt Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\r\n * Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\nfunction isUnknownObject(x) {\r\n    return x !== null && typeof x === \"object\";\r\n}\n\nexport { isUnknownObject };\n","import { ACL_RESOURCE_ACCESS_MODE_READ, ACL_RESOURCE_ACCESS_MODE_APPEND, ACL_RESOURCE_ACCESS_MODE_WRITE, ACL_RESOURCE_ACCESS_MODE_CONTROL } from '../constants.mjs';\n\n/**\r\n * Copyright 2022 Inrupt Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\r\n * Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\nfunction accessToResourceAccessModeArray(desiredAccess) {\r\n    const modes = [];\r\n    if (desiredAccess.read === true) {\r\n        modes.push(ACL_RESOURCE_ACCESS_MODE_READ);\r\n    }\r\n    if (desiredAccess.append === true) {\r\n        modes.push(ACL_RESOURCE_ACCESS_MODE_APPEND);\r\n    }\r\n    if (desiredAccess.write === true) {\r\n        modes.push(ACL_RESOURCE_ACCESS_MODE_WRITE);\r\n    }\r\n    if (desiredAccess.controlRead === true ||\r\n        desiredAccess.controlWrite === true) {\r\n        modes.push(ACL_RESOURCE_ACCESS_MODE_CONTROL);\r\n    }\r\n    return modes;\r\n}\n\nexport { accessToResourceAccessModeArray };\n","import { getSessionFetch } from './getSessionFetch.mjs';\nimport { isBaseAccessRequestVerifiableCredential } from '../guard/isBaseAccessRequestVerifiableCredential.mjs';\nimport { isBaseAccessGrantVerifiableCredential } from '../guard/isBaseAccessGrantVerifiableCredential.mjs';\n\n/**\r\n * Copyright 2022 Inrupt Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\r\n * Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\nasync function getVerifiableCredential(vc, options) {\r\n    const fetcher = await getSessionFetch(options);\r\n    const vcAsUrlString = vc.toString();\r\n    const issuerResponse = await fetcher(vcAsUrlString);\r\n    if (!issuerResponse.ok) {\r\n        throw new Error(`An error occurred when looking up [${vcAsUrlString}]: ${issuerResponse.status} ${issuerResponse.statusText}`);\r\n    }\r\n    // TODO: Type checking VerifiableCredential (probably via solid-client-vc?)\r\n    return (await issuerResponse.json());\r\n}\r\nasync function getBaseAccessGrantVerifiableCredential(vc, options) {\r\n    const fetchedVerifiableCredential = typeof vc === \"string\" || vc instanceof URL\r\n        ? await getVerifiableCredential(vc, options)\r\n        : vc;\r\n    if (!isBaseAccessGrantVerifiableCredential(fetchedVerifiableCredential)) {\r\n        throw new Error(`An error occurred when type checking the VC, it is not a BaseAccessVerifiableCredential.`);\r\n    }\r\n    return fetchedVerifiableCredential;\r\n}\r\nasync function getBaseAccessRequestVerifiableCredential(vc, options) {\r\n    const fetchedVerifiableCredential = typeof vc === \"string\" || vc instanceof URL\r\n        ? await getVerifiableCredential(vc, options)\r\n        : vc;\r\n    if (!isBaseAccessRequestVerifiableCredential(fetchedVerifiableCredential)) {\r\n        throw new Error(`An error occurred when type checking the VC, it is not a BaseAccessVerifiableCredential.`);\r\n    }\r\n    return fetchedVerifiableCredential;\r\n}\n\nexport { getBaseAccessGrantVerifiableCredential, getBaseAccessRequestVerifiableCredential };\n","import { isConsentAttributes } from './isConsentAttributes.mjs';\nimport { isBaseAccessVcBody } from './isBaseAccessVcBody.mjs';\n\n/**\r\n * Copyright 2022 Inrupt Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\r\n * Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\nfunction isGrantCredentialSubject(x) {\r\n    return x.providedConsent !== undefined;\r\n}\r\nfunction isBaseAccessGrantVerifiableCredential(x) {\r\n    return (isBaseAccessVcBody(x) &&\r\n        isGrantCredentialSubject(x.credentialSubject) &&\r\n        isConsentAttributes(x.credentialSubject.providedConsent));\r\n}\n\nexport { isBaseAccessGrantVerifiableCredential };\n","import { fetch } from 'cross-fetch';\n\n/**\r\n * Copyright 2022 Inrupt Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\r\n * Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n/**\r\n * Dynamically import solid-client-authn-browser so that\r\n * this library doesn't have a hard dependency.\r\n *\r\n * @returns fetch function\r\n */\r\nasync function getSessionFetch(options) {\r\n    if (options.fetch) {\r\n        return options.fetch;\r\n    }\r\n    try {\r\n        const { fetch: fetchFn } = await import('@inrupt/solid-client-authn-browser');\r\n        return fetchFn;\r\n    }\r\n    catch (e) {\r\n        /* istanbul ignore next: @inrupt/solid-client-authn-browser is a devDependency, so this path is not hit in tests: */\r\n        return fetch;\r\n    }\r\n}\n\nexport { getSessionFetch };\n","import { getSolidDataset, getJsonLdParser, getThingAll, getIri } from '@inrupt/solid-client';\n\n/**\r\n * Copyright 2021 Inrupt Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\r\n * Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n/**\r\n * Verifies that a given JSON-LD payload conforms to the Verifiable Credential\r\n * schema we expect.\r\n * @param data The JSON-LD payload\r\n * @returns true is the payload matches our expectation.\r\n */\r\nfunction isVerifiableCredential(data) {\r\n    let dataIsVc = true;\r\n    dataIsVc = typeof data.id === \"string\";\r\n    dataIsVc = dataIsVc && Array.isArray(data.type);\r\n    dataIsVc =\r\n        dataIsVc && typeof data.issuer === \"string\";\r\n    dataIsVc =\r\n        dataIsVc && typeof data.issuanceDate === \"string\";\r\n    dataIsVc =\r\n        dataIsVc &&\r\n            !Number.isNaN(Date.parse(data.issuanceDate));\r\n    dataIsVc =\r\n        dataIsVc &&\r\n            typeof data.credentialSubject === \"object\";\r\n    dataIsVc =\r\n        dataIsVc &&\r\n            typeof data.credentialSubject.id === \"string\";\r\n    dataIsVc =\r\n        dataIsVc && typeof data.proof === \"object\";\r\n    dataIsVc =\r\n        dataIsVc &&\r\n            typeof data.proof.created === \"string\";\r\n    dataIsVc =\r\n        dataIsVc &&\r\n            !Number.isNaN(Date.parse(data.proof.created));\r\n    dataIsVc =\r\n        dataIsVc &&\r\n            typeof data.proof.proofPurpose === \"string\";\r\n    dataIsVc =\r\n        dataIsVc &&\r\n            typeof data.proof.proofValue === \"string\";\r\n    dataIsVc =\r\n        dataIsVc && typeof data.proof.type === \"string\";\r\n    dataIsVc =\r\n        dataIsVc &&\r\n            typeof data.proof.verificationMethod === \"string\";\r\n    return dataIsVc;\r\n}\r\nfunction isUrl(url) {\r\n    try {\r\n        // If url is not URL-shaped, this will throw.\r\n        // eslint-disable-next-line no-new\r\n        new URL(url);\r\n        return true;\r\n    }\r\n    catch (_e) {\r\n        return false;\r\n    }\r\n}\r\nfunction isVerifiablePresentation(vp) {\r\n    let inputIsVp = true;\r\n    inputIsVp =\r\n        inputIsVp &&\r\n            (Array.isArray(vp.type) ||\r\n                typeof vp.type === \"string\");\r\n    if (vp.verifiableCredential !== undefined) {\r\n        inputIsVp =\r\n            inputIsVp &&\r\n                Array.isArray(vp.verifiableCredential);\r\n        inputIsVp =\r\n            inputIsVp &&\r\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\r\n                vp.verifiableCredential.every(isVerifiableCredential);\r\n    }\r\n    if (vp.holder !== undefined) {\r\n        inputIsVp =\r\n            inputIsVp && typeof vp.holder === \"string\";\r\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\r\n        inputIsVp = inputIsVp && isUrl(vp.holder);\r\n    }\r\n    // TODO: No type checking is currently implemented for the proof.\r\n    return inputIsVp;\r\n}\r\nfunction concatenateContexts(...contexts) {\r\n    const result = new Set();\r\n    contexts.forEach((additionalContext) => {\r\n        // Case when the context is an array of IRIs and/or inline contexts\r\n        if (Array.isArray(additionalContext)) {\r\n            additionalContext.forEach((context) => result.add(context));\r\n        }\r\n        else if (additionalContext !== null && additionalContext !== undefined) {\r\n            // Case when the context is a single remote URI or a single inline context\r\n            result.add(additionalContext);\r\n        }\r\n    });\r\n    return Array.from(result.values());\r\n}\r\n/**\r\n * This context contains the required elements to build a valid VC issuance request.\r\n */\r\nconst defaultContext = [\"https://www.w3.org/2018/credentials/v1\"];\r\nconst defaultCredentialTypes = [\r\n    \"VerifiableCredential\",\r\n    \"SolidCredential\",\r\n];\r\n// Solid VC URIs\r\nconst SOLID_VC_NS = \"http://www.w3.org/ns/solid/vc#\";\r\nconst SOLID_VC_DERIVATION_SERVICE = SOLID_VC_NS.concat(\"derivationService\");\r\nconst SOLID_VC_ISSUER_SERVICE = SOLID_VC_NS.concat(\"issuerService\");\r\nconst SOLID_VC_STATUS_SERVICE = SOLID_VC_NS.concat(\"statusService\");\r\nconst SOLID_VC_VERIFIER_SERVICE = SOLID_VC_NS.concat(\"verifierService\");\r\n/**\r\n * Discover the available services for a given VC service provider. The detail of\r\n * some of these services are given by the [W3C VC API](https://github.com/w3c-ccg/vc-api/).\r\n *\r\n * @param vcServiceUrl The URL of the VC services provider. Only the domain is relevant, any provided path will be ignored.\r\n * @returns A map of the services available and their URLs.\r\n * @since 0.2.0\r\n */\r\nasync function getVerifiableCredentialApiConfiguration(vcServiceUrl) {\r\n    var _a, _b, _c, _d;\r\n    const wellKnownIri = new URL(\".well-known/vc-configuration\", vcServiceUrl.toString());\r\n    const vcConfigData = await getSolidDataset(wellKnownIri.href, {\r\n        // The configuration discovery document is only available as JSON-LD.\r\n        parsers: { \"application/ld+json\": getJsonLdParser() },\r\n    });\r\n    // The dataset should have a single blank node subject of all its triples.\r\n    const wellKnownRootBlankNode = getThingAll(vcConfigData, {\r\n        acceptBlankNodes: true,\r\n    })[0];\r\n    return {\r\n        derivationService: (_a = getIri(wellKnownRootBlankNode, SOLID_VC_DERIVATION_SERVICE)) !== null && _a !== void 0 ? _a : undefined,\r\n        issuerService: (_b = getIri(wellKnownRootBlankNode, SOLID_VC_ISSUER_SERVICE)) !== null && _b !== void 0 ? _b : undefined,\r\n        statusService: (_c = getIri(wellKnownRootBlankNode, SOLID_VC_STATUS_SERVICE)) !== null && _c !== void 0 ? _c : undefined,\r\n        verifierService: (_d = getIri(wellKnownRootBlankNode, SOLID_VC_VERIFIER_SERVICE)) !== null && _d !== void 0 ? _d : undefined,\r\n    };\r\n}\n\nexport { concatenateContexts, defaultContext, defaultCredentialTypes, getVerifiableCredentialApiConfiguration, isVerifiableCredential, isVerifiablePresentation };\n","/**\r\n * Copyright 2021 Inrupt Inc.\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal in\r\n * the Software without restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\r\n * Software, and to permit persons to whom the Software is furnished to do so,\r\n * subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in\r\n * all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\r\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\r\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\r\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n/**\r\n * @ignore Internal fallback for when no fetcher is provided; not to be used downstream.\r\n * Note that this is inspired from @inrupt/solid-client, extended now that solid-client-authn\r\n * provides a default session.\r\n */\r\nconst defaultFetch = async (resource, init) => {\r\n    /* istanbul ignore if: `require` is always defined in the unit test environment */\r\n    if (typeof window === \"object\" && typeof require !== \"function\") {\r\n        return window.fetch(resource, init);\r\n    }\r\n    // eslint-disable-next-line no-shadow\r\n    // let fetch;\r\n    // try {\r\n    //   // solid-client-authn-browser may be unresolved, we just try to autodetect it.\r\n    //   const { fetch: defaultSessionFetch } = await import(\r\n    //     /* eslint-disable import/no-unresolved */\r\n    //     // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n    //     // @ts-ignore\r\n    //     \"@inrupt/solid-client-authn-browser\"\r\n    //   );\r\n    //   /* istanbul ignore next : `solid-client-authn-browser` is not a dependency of this library */\r\n    //   fetch = defaultSessionFetch;\r\n    // } catch (e) {\r\n    //   const crossFetchModule = await import(\"cross-fetch\");\r\n    //   fetch = crossFetchModule.default;\r\n    //   // return await fetch(resource, init);\r\n    // }\r\n    // return fetch(resource, init);\r\n    const crossFetchModule = await import('cross-fetch');\r\n    return crossFetchModule.default(resource, init);\r\n};\n\nexport { defaultFetch as default };\n"],"names":["Object","defineProperty","exports","value","_util","_toConsumableArray","arr","Array","isArray","i","arr2","length","_arrayWithoutHoles","iter","Symbol","iterator","prototype","toString","call","from","_iterableToArray","TypeError","_nonIterableSpread","_slicedToArray","_arrayWithHoles","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","err","_iterableToArrayLimit","_nonIterableRest","build","params","reduce","prev","_ref","_ref2","key","values","transform","isToken","quote","xxx","concat","map","challenge","options","entries","keys","scheme","token","obj","isScheme","join","enumerable","get","_parse","default","_format","_interopRequireDefault","__esModule","body","normalize","_cur","cur","charAt","unquote","trim","str","start","indexOf","substr","string","res","exec","parseProperties","test","replace","ACL_RESOURCE_ACCESS_MODE_APPEND","ACL_RESOURCE_ACCESS_MODE_CONTROL","ACL_RESOURCE_ACCESS_MODE_READ","ACL_RESOURCE_ACCESS_MODE_WRITE","GC_CONSENT_STATUS_DENIED","GC_CONSENT_STATUS_EXPLICITLY_GIVEN","GC_CONSENT_STATUS_REQUESTED","PIM_STORAGE","PREFERRED_CONSENT_MANAGEMENT_UI","CONSENT_CONTEXT","CREDENTIAL_TYPE_ACCESS_REQUEST","CREDENTIAL_TYPE_ACCESS_GRANT","CREDENTIAL_TYPE_ACCESS_DENIAL","ACCESS_CREDENTIAL_TYPE","Set","CONSENT_STATUS","RESOURCE_ACCESS_MODE","async","getAccessApiEndpoint","resource","accessEndpoint","consentEndpoint","response","fetch","headers","has","Error","status","statusText","authHeader","authHeaderToken","authorizationServerIri","as_uri","wellKnownIri","URL","rawDiscoveryDocument","href","discoveryDocument","json","verifiable_credential_issuer","JSON","stringify","getAccessEndpointForResource","isBaseAccessRequestVerifiableCredential","x","hasConsent","isRequestCredentialSubject","credentialSubject","isBaseAccessVcBody","isUnknownObject","y","includes","isConsentContext","type","some","isAccessCredentialType","id","inbox","issuanceDate","isConsentAttributes","every","isResourceAccessModeArray","mode","isConsentStatus","hasStatus","isStringArray","forPersonalData","accessToResourceAccessModeArray","desiredAccess","modes","read","append","write","controlRead","controlWrite","getVerifiableCredential","vc","fetcher","getSessionFetch","vcAsUrlString","issuerResponse","ok","getBaseAccessGrantVerifiableCredential","fetchedVerifiableCredential","providedConsent","isGrantCredentialSubject","getBaseAccessRequestVerifiableCredential","fetchFn","e","isVerifiableCredential","data","dataIsVc","issuer","Number","isNaN","Date","parse","proof","created","proofPurpose","proofValue","verificationMethod","isVerifiablePresentation","vp","inputIsVp","verifiableCredential","holder","url","isUrl","concatenateContexts","contexts","result","forEach","additionalContext","context","add","defaultContext","defaultCredentialTypes","SOLID_VC_NS","SOLID_VC_DERIVATION_SERVICE","SOLID_VC_ISSUER_SERVICE","SOLID_VC_STATUS_SERVICE","SOLID_VC_VERIFIER_SERVICE","getVerifiableCredentialApiConfiguration","vcServiceUrl","_a","_b","_c","vcConfigData","parsers","wellKnownRootBlankNode","acceptBlankNodes","derivationService","issuerService","statusService","verifierService","defaultFetch","init","window","require"],"sourceRoot":""}