(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[915],{67265:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(87462),a=n(45987),c=n(67294),o=(n(45697),n(86010)),u=n(1591),l=(0,n(63786).Z)(c.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var s=c.forwardRef((function(e,t){var n=e.alt,u=e.children,s=e.classes,i=e.className,f=e.component,p=void 0===f?"div":f,d=e.imgProps,m=e.sizes,h=e.src,b=e.srcSet,y=e.variant,g=void 0===y?"circle":y,v=(0,a.Z)(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),w=null,E=function(e){var t=e.src,n=e.srcSet,r=c.useState(!1),a=r[0],o=r[1];return c.useEffect((function(){if(t||n){o(!1);var e=!0,r=new Image;return r.src=t,r.srcSet=n,r.onload=function(){e&&o("loaded")},r.onerror=function(){e&&o("error")},function(){e=!1}}}),[t,n]),a}({src:h,srcSet:b}),S=h||b,Z=S&&"error"!==E;return w=Z?c.createElement("img",(0,r.Z)({alt:n,src:h,srcSet:b,sizes:m,className:s.img},d)):null!=u?u:S&&n?n[0]:c.createElement(l,{className:s.fallback}),c.createElement(p,(0,r.Z)({className:(0,o.Z)(s.root,s.system,s[g],i,!Z&&s.colorDefault),ref:t},v),w)})),i=(0,u.Z)((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(s)},52800:function(e,t,n){"use strict";n.d(t,{_7:function(){return i},UJ:function(){return f},dO:function(){return p},UA:function(){return d},Jp:function(){return y},y7:function(){return g}});var r=n(95287),a=n(36163),c=n(9749),o=n(80480),u=n(15259),l=n(38603),s="http://www.w3.org/ns/solid/oidc#",i="".concat(s,"tos_uri"),f="".concat(s,"policy_uri"),p="".concat(s,"contacts"),d="".concat(s,"logo_uri"),m="https://mockappurl.com",h=(0,u.tS)((0,r.Lx)({url:"https://mockappurl.com#contacts"}),(function(e){return(0,a.go)(e,o.ay.name,"Example Contact")}),(function(e){return(0,a.go)(e,o.w_.hasTelephone,"555-5555")}),(function(e){return(0,a.go)(e,o.w_.hasEmail,"example@email.com")}),(function(e){return(0,a.qg)(e,o.w_.url,"https://examplewebsite.com")})),b=(0,r.lY)((0,c.HM)(),h);function y(){return(0,u.tS)((0,r.Lx)({url:m}),(function(e){return(0,a.go)(e,o.ay.name,"Mock App")}),(function(e){return(0,a.qg)(e,(0,l.BC)("WebId"),m)}),(function(e){return(0,a.qg)(e,o.E_.type,o.fK.SoftwareApplication)}),(function(e){return(0,a.qg)(e,i,"https://mockappurl.com/terms-of-service")}),(function(e){return(0,a.qg)(e,f,"https://mockappurl.com/privacy-policy")}),(function(e){return(0,a.qg)(e,p,"https://mockappurl.com#contacts")}))}function g(){return(0,r.lY)(b,y())}},5455:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(67294),a=n(86010),c=n(11719),o=n(35117),u=n(57821),l=n(41423),s=n(54303);function i(e){var t=e.handleTabChange,n=e.selectedTabValue,i=e.className,f=e.tabs,p=e.children,d=(0,c.Z)((function(e){return(0,o.Z)(function(e){return(0,s.createStyles)(e,["icons","table"],{tabsContainer:{display:"flex",justifyContent:"space-between",paddingLeft:e.spacing(1.2),paddingRight:e.spacing(1.2),borderBottom:"1px solid ".concat(e.palette.grey.A100)},tab:{textTransform:"none",minWidth:"max-content",fontFamily:e.typography.body1.fontFamily,fontSize:e.typography.body1.fontSize,color:e.palette.primary.text},selected:{color:e.palette.primary.main},indicator:{height:"3px",width:"100%",backgroundColor:e.palette.primary.main}})}(e))}))();return r.createElement("div",{className:(0,a.Z)(d.tabsContainer,i)},r.createElement(u.Z,{classes:{indicator:d.indicator},value:n,onChange:t,"aria-label":"Filter tabs"},f.map((function(e){return r.createElement(l.Z,{key:e.label,classes:{root:d.tab,selected:d.selected},label:e.label,"data-testid":e.testid,value:e.value})}))),p)}i.defaultProps={className:null,selectedTabValue:null,children:null}},87371:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return te}});var r=n(67294),a=n(80480),c=n(41664),o=n(84549),u=n(23934),l=n(27812),s=n(50029),i=n(87794),f=n.n(i),p=n(86010),d=n(35117),m=n(11719),h=n(54303),b=n(29773),y=n(95287),g=n(9749),v=n(40478),w=n(47687),E=n(21015),S=n(18196),Z=function(e){var t=h.table.styles(e);return(0,h.createStyles)(e,["table","icons"],{table:{"& tbody td":{"&:first-child":t["table__body-cell--width-preview"]},"& tbody a":t.table__link},"name-header":{textTransform:"uppercase"}})},x=n(52800),k=n(35863),P=n(11163),_=n(38603);function O(e,t,n){return"".concat(t,"/").concat(n,"/").concat(encodeURIComponent(e))}function T(e){var t=(0,P.useRouter)().route,n=e.webId,o=(0,v.useThing)().thing,u=(0,_.vO)(o),l=function(e){return e===a.fK.Person||e===a.ay.Person}((0,k.Gr)(o,a.E_.type))?"person":"app",s=n||u,i=(0,k.oX)(o,a.ay.name)||(0,k.oX)(o,a.w_.fn)||s;return r.createElement(c.default,{href:O(s,t,l)},r.createElement("a",{"data-testid":"resource-access-link"},i))}T.defaultProps={webId:null};var C=n(18780),N=n(6578),j=n(35345);function A(e,t){return I.apply(this,arguments)}function I(){return I=(0,s.Z)(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Promise.all(t.map(function(){var e=(0,s.Z)(f().mark((function e(t){var r,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,g.OE)(t,{fetch:n});case 3:return r=e.sent,a=(0,y.YY)(r,t),e.abrupt("return",a);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),e.abrupt("return",r);case 2:case"end":return e.stop()}}),e)}))),I.apply(this,arguments)}var R=n(10150),q=n(59499);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){(0,q.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var z=function(e){return(0,h.createStyles)(e,[],{"icon-large":W(W({},e.icons.iconColor("#0D6796")),{},{fontSize:64})})},K=(0,m.Z)((function(e){return(0,R.Z)(z(e))}));function F(){var e=(0,h.useBem)(K());return r.createElement(b.VY,null,r.createElement(b.W2,{variant:"empty"},r.createElement(b.PJ,{name:"user-shield",className:e("icon-large")}),r.createElement("h1",null,"No one else has access to your Pod"),r.createElement("p",null,"When access has been granted to a person or app, they will show up here.")))}var V=a.ay.name,J=a.w_.hasPhoto,U=(0,m.Z)((function(e){return(0,d.Z)(Z(e))})),Y=(0,x.Jp)(),M=function(e){var t=e.value,n=e.row;return r.createElement(S.Z,{altText:n.values.col1,imageUrl:t})},X=function(){var e=(0,v.useThing)().thing;return(0,y.j5)(e)};function B(e){var t=e.contactType,n=e.setSearchValues;(0,u.KW)();var c=b.iA.useTableClass("table","inherits"),o=U(),i=(0,h.useBem)(o),d=(0,r.useContext)(C.Z).search,m=(0,v.useSession)(),y=m.session,S=m.fetch,Z=(0,r.useState)(null),x=Z[0],k=Z[1],P=(0,r.useState)(!1),_=P[0],O=P[1],I=(0,r.useState)([]),R=I[0],q=I[1],D=(0,r.useState)(null),W=D[0],z=D[1],K=(0,N.Z)(y.info.webId),B=(0,r.useState)([]),L=B[0],H=B[1],G=function(e){var t=(0,v.useSession)().fetch;return(0,j.ZP)(["agents",e],(0,s.Z)(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return",null);case 2:return n.abrupt("return",A(e,t));case 3:case"end":return n.stop()}}),n)}))),{errorRetryCount:0})}(R),Q=G.data,$=G.isValidating;(0,r.useEffect)((function(){O(!0),(0,s.Z)(f().mark((function e(){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,g.HM)(),t!==a.fK.SoftwareApplication){e.next=5;break}return H([{dataset:n,thing:Y}]),O(!1),e.abrupt("return");case 5:if(Q){e.next=7;break}return e.abrupt("return");case 7:if(r=Q.map((function(e){return{dataset:n,thing:e}})).filter((function(e){return!!e.thing}))){e.next=10;break}return e.abrupt("return");case 10:H(r),O(!1),"all"===t&&(H(r?[].concat((0,l.Z)(r),[{dataset:n,thing:Y}]):[{dataset:n,thing:Y}]),O(!1));case 13:case"end":return e.stop()}}),e)})))()}),[Q,t,S]);var ee='\n  {\n    pod(iri: "'.concat(K,'") {\n      agentsWithAccess,\n      accessType,\n    }\n  }\n  ');return(0,r.useEffect)((function(){K&&S("https://access.pod.inrupt.com/graphql/",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({query:ee})}).then((function(e){return e.json()})).catch((function(e){return z(e)})).then((function(e){var t=e.data;if(t&&t.pod){var n=t.pod.agentsWithAccess;q(n.filter((function(e){return e!==y.info.webId})))}}))}),[ee,K,S,y]),(0,r.useEffect)((function(){Q&&n(Q)}),[Q,n]),W?W.toString():_||!R||$?r.createElement(E.Z,null):L.length||W?r.createElement(b.W2,null,r.createElement(v.Table,{things:L,className:(0,p.Z)(c,i("table")),filter:d,ascIndicator:r.createElement(w.Z,{sorted:!0}),descIndicator:r.createElement(w.Z,{sorted:!0,sortedDesc:!0}),getRowProps:function(e,t){return{tabIndex:"0",className:(0,p.Z)(i("table__body-row","selectable",t===L[x]?"selected":null)),onKeyUp:function(t){"Enter"===t.key&&k(e.index)},onClick:function(){k(e.index)}}}},r.createElement(v.TableColumn,{property:J,header:"",dataType:"url",body:M}),r.createElement(v.TableColumn,{property:V,header:"Name",filterable:!0,sortable:!0,body:T}),r.createElement(v.TableColumn,{property:V,header:"WebID",body:X,filterable:!0,sortable:!0}))):r.createElement(F,null)}B.defaultProps={contactType:""},M.defaultProps={value:null,row:null};var L=B,H=n(5455),G=n(19615),Q=a.fK.Person,$=a.fK.SoftwareApplication;function ee(){(0,u.KW)();var e=(0,r.useState)(""),t=e[0],n=e[1],a=(0,r.useState)(null),l=a[0],s=a[1],i=(0,r.useState)("all"),f=i[0],p=i[1],d=[{label:"All",testid:"tab-all",value:"all"},{label:"People",testid:"tab-people",value:Q},{label:"Apps",testid:"tab-apps",value:$}];return r.createElement(o.g9,null,r.createElement(C.X,{search:t,setSearch:n},r.createElement(r.Fragment,null,r.createElement(H.Z,{tabs:d,handleTabChange:function(e,t){p(t),t===$&&s(null)},selectedTabValue:f},l&&r.createElement(G.ZP,{contacts:l})),r.createElement(L,{contactType:f,setSearchValues:s}),r.createElement(c.default,{href:"/privacy/access/generate"},r.createElement("a",null,"Generate consent request")))))}function te(){return r.createElement(ee,null)}},6578:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(67294),a=n(68504),c=n(1124),o=n(44770),u=n(82708),l=n(50029),s=n(87794),i=n.n(s),f=n(40478),p=n(35345),d=n(9749),m="getDataset";function h(e){return"/"===e[e.length-1]?e:"".concat(e,"/")}function b(e){var t=(0,r.useState)(null),n=t[0],s=t[1],b=(0,o.Z)().data,y=(0,u.Z)(e,{errorRetryCount:0}).data,g=(0,r.useState)(null),v=g[0],w=g[1],E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,f.useSession)().fetch;return(0,p.ZP)([e,m],(0,l.Z)(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",null);case 2:return t.abrupt("return",(0,d.OE)(e,{fetch:n}));case 3:case"end":return t.stop()}}),t)}))),t)}(v),S=E.data,Z=E.error;return(0,r.useEffect)((function(){if(e&&"undefined"!==e&&b){var t=(0,c._3)(b,e);if(t)s(h(t));else{var n=(0,a.Ao)(y);if(w(n),n&&!Z){if(n&&S){var r=(0,c.sY)(n,S),o=(0,c._3)(r,e);s(o)}}else{var u=new URL(e).origin;s(h(u))}}}else s(null)}),[e,S,Z,b,y]),n}},82708:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(68504),a=n(40478),c=n(35345),o="getResourceInfo";function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(0,a.useSession)(),u=n.fetch;return(0,c.ZP)(e&&"undefined"!==e?[e,o]:null,(function(){return(0,r.yJ)(e,{fetch:u},t)}))}},77502:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/privacy",function(){return n(87371)}])}},function(e){e.O(0,[224,823,273,547,537,888,774,179],(function(){return t=77502,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=privacy-b46aa6e4957e052b.js.map