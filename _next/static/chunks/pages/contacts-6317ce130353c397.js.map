{"version":3,"file":"static/chunks/pages/contacts-6317ce130353c397.js","mappings":"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","sources":["webpack://_N_E/./components/confirmationDialog/index.jsx","webpack://_N_E/./components/confirmationDialog/styles.js","webpack://_N_E/./components/deleteButton/styles.js","webpack://_N_E/./components/deleteButton/index.jsx","webpack://_N_E/./components/contactsList/styles.js","webpack://_N_E/./node_modules/@material-ui/icons/esm/ExpandMore.js","webpack://_N_E/./components/deleteContactButton/index.jsx","webpack://_N_E/./components/contactsList/contactsDrawer/index.jsx","webpack://_N_E/./components/contactsList/contactsEmptyState/styles.js","webpack://_N_E/./components/contactsList/contactsEmptyState/index.jsx","webpack://_N_E/./components/contactsList/index.jsx","webpack://_N_E/./src/hooks/useProfiles/index.js","webpack://_N_E/./components/pages/contacts/index.jsx","webpack://_N_E/./pages/contacts.jsx","webpack://_N_E/./src/hooks/useAddressBookOld/index.js","webpack://_N_E/./src/hooks/useContactsContainerUrl/index.js","webpack://_N_E/./src/hooks/useContactsOld/index.js","webpack://_N_E/?47de"],"sourcesContent":["/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport {\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  createStyles,\n  DialogContentText,\n} from \"@material-ui/core\";\nimport { Button } from \"@inrupt/prism-react-components\";\nimport ConfirmationDialogContext from \"../../src/contexts/confirmationDialogContext\";\nimport styles from \"./styles\";\n\nconst useStyles = makeStyles((theme) => createStyles(styles(theme)));\n\nexport const TESTCAFE_ID_CONFIRM_BUTTON = \"confirm-button\";\nexport const TESTCAFE_ID_CONFIRMATION_CANCEL_BUTTON =\n  \"confirmation-cancel-button\";\nexport const TESTCAFE_ID_CONFIRMATION_DIALOG = \"confirmation-dialog\";\nexport const TESTCAFE_ID_CONFIRMATION_DIALOG_TITLE =\n  \"confirmation-dialog-title\";\nexport const TESTCAFE_ID_CONFIRMATION_DIALOG_CONTENT =\n  \"confirmation-dialog-content\";\n\nexport default function ConfirmationDialog() {\n  const classes = useStyles();\n\n  const {\n    open,\n    title,\n    content,\n    customContentWrapper,\n    setConfirmed,\n    cancelText,\n    confirmText,\n    omitCancelButton,\n    isDangerousAction,\n  } = useContext(ConfirmationDialogContext);\n\n  return (\n    <Dialog\n      classes={{ paperWidthFalse: classes.dialog }}\n      data-testid={TESTCAFE_ID_CONFIRMATION_DIALOG}\n      maxWidth={false}\n      aria-labelledby=\"confirmation-dialog\"\n      open={!!open}\n    >\n      {title && (\n        <DialogTitle\n          data-testid={TESTCAFE_ID_CONFIRMATION_DIALOG_TITLE}\n          disableTypography\n          classes={{ root: classes.dialogTitle }}\n        >\n          {title}\n        </DialogTitle>\n      )}\n      <DialogContent>\n        {!customContentWrapper && (\n          <DialogContentText\n            data-testid={TESTCAFE_ID_CONFIRMATION_DIALOG_CONTENT}\n            classes={{ root: classes.dialogText }}\n            id=\"alert-confirmation-dialog\"\n          >\n            {content}\n          </DialogContentText>\n        )}\n        {customContentWrapper && <div>{content}</div>}\n      </DialogContent>\n      <DialogActions classes={{ root: classes.dialogActions }}>\n        {!omitCancelButton && (\n          <Button\n            variant=\"secondary\"\n            data-testid={TESTCAFE_ID_CONFIRMATION_CANCEL_BUTTON}\n            className={classes.cancelButton}\n            autoFocus\n            onClick={() => setConfirmed(false)}\n          >\n            {cancelText || \"Cancel\"}\n          </Button>\n        )}\n        <Button\n          data-testid={TESTCAFE_ID_CONFIRM_BUTTON}\n          className={\n            isDangerousAction\n              ? classes.dangerButton\n              : classes.submitAgentsButton\n          }\n          type=\"submit\"\n          onClick={() => setConfirmed(true)}\n        >\n          {confirmText || \"Confirm\"}\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { createStyles } from \"@solid/lit-prism-patterns\";\n\nconst WIDTH_DIALOG = 640;\n\nexport default function styles(theme) {\n  return createStyles(theme, [\"icons\", \"button\"], {\n    dialog: {\n      width: WIDTH_DIALOG,\n    },\n    dialogActions: {\n      padding: theme.spacing(2.4),\n    },\n    dialogTitle: {\n      fontSize: theme.typography.h2.fontSize,\n      fontWeight: theme.typography.h2.fontWeight,\n    },\n    dialogText: {\n      fontWeight: theme.typography.body.fontWeight,\n      fontFamily: theme.typography.body.fontFamily,\n    },\n    dangerButton: {\n      backgroundColor: theme.palette.error.main,\n    },\n  });\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { button } from \"@solid/lit-prism-patterns\";\n\nconst styles = (theme) => button.styles(theme);\n\nexport default styles;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport clsx from \"clsx\";\nimport { createStyles, makeStyles } from \"@material-ui/styles\";\nimport { useBem } from \"@solid/lit-prism-patterns\";\nimport T from \"prop-types\";\nimport AlertContext from \"../../src/contexts/alertContext\";\nimport ConfirmationDialogContext from \"../../src/contexts/confirmationDialogContext\";\nimport styles from \"./styles\";\nimport { isHTTPError } from \"../../src/error\";\n\nexport const TESTCAFE_ID_DELETE_BUTTON = \"delete-button\";\n\nconst useStyles = makeStyles((theme) => createStyles(styles(theme)));\n\nexport function handleDeleteResource({\n  onDelete,\n  onDeleteError,\n  setAlertOpen,\n  setMessage,\n  setSeverity,\n  successMessage,\n}) {\n  return async () => {\n    try {\n      await onDelete();\n      setSeverity(\"success\");\n      setMessage(successMessage);\n      setAlertOpen(true);\n    } catch (err) {\n      onDeleteError(err);\n    }\n  };\n}\n/* eslint react/jsx-props-no-spreading: 0 */\nexport default function DeleteButton({\n  confirmationTitle,\n  confirmationContent,\n  dialogId,\n  onDelete,\n  successMessage,\n  resourceName,\n  ...buttonProps\n}) {\n  const bem = useBem(useStyles());\n  const { setAlertOpen, setMessage, setSeverity } = useContext(AlertContext);\n  const [confirmationSetup, setConfirmationSetup] = useState(false);\n  const { confirmed, open, setContent, setOpen, setTitle, closeDialog } =\n    useContext(ConfirmationDialogContext);\n\n  function onDeleteError(e) {\n    setSeverity(\"error\");\n    if (isHTTPError(e, 409)) {\n      setMessage(`${resourceName} has files in it and cannot be deleted.`);\n    } else {\n      setMessage(e.toString());\n    }\n    setAlertOpen(true);\n  }\n\n  const deleteResource = handleDeleteResource({\n    onDelete,\n    onDeleteError,\n    setAlertOpen,\n    setMessage,\n    setSeverity,\n    successMessage,\n  });\n\n  useEffect(() => {\n    if (open !== dialogId) return;\n    if (confirmationSetup && confirmed === null) return;\n    setTitle(confirmationTitle);\n    setContent(confirmationContent);\n    setConfirmationSetup(true);\n\n    if (confirmationSetup && confirmed) {\n      deleteResource();\n    }\n\n    if (confirmationSetup && confirmed !== null) {\n      closeDialog();\n      setConfirmationSetup(false);\n    }\n  }, [\n    deleteResource,\n    open,\n    dialogId,\n    confirmationTitle,\n    confirmationContent,\n    setConfirmationSetup,\n    confirmed,\n    confirmationSetup,\n    setContent,\n    setTitle,\n    closeDialog,\n  ]);\n\n  return (\n    <button\n      type=\"button\"\n      className={clsx(bem(\"button\"))}\n      data-testid={TESTCAFE_ID_DELETE_BUTTON}\n      {...buttonProps}\n      onClick={() => setOpen(dialogId)}\n    />\n  );\n}\n\nDeleteButton.propTypes = {\n  confirmationTitle: T.string.isRequired,\n  confirmationContent: T.string.isRequired,\n  dialogId: T.string.isRequired,\n  onDelete: T.func.isRequired,\n  successMessage: T.string.isRequired,\n  resourceName: T.string,\n};\n\nDeleteButton.defaultProps = {\n  resourceName: \"this resource\",\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { createStyles, table } from \"@solid/lit-prism-patterns\";\n\nconst styles = (theme) => {\n  const tableStyles = table.styles(theme);\n  return createStyles(theme, [\"table\", \"icons\"], {\n    table: {\n      \"& tbody td\": {\n        \"&:first-child\": tableStyles[\"table__body-cell--width-preview\"],\n      },\n      \"& tbody a\": tableStyles.table__link,\n    },\n    avatar: {\n      width: \"30px\",\n      height: \"30px\",\n    },\n  });\n};\n\nexport default styles;\n","import * as React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z\"\n}), 'ExpandMore');","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React from \"react\";\nimport T from \"prop-types\";\nimport DeleteButton from \"../deleteButton\";\n\nexport const TESTCAFE_CONTACT_DELETE_BUTTON = \"delete-contact-button\";\nexport const confirmationTitle = \"Delete Contact\";\nexport const deleteContactSuccessMessage = \"Contact was successfully deleted.\";\n/* eslint react/jsx-props-no-spreading: 0 */\nexport default function DeleteContactButton({\n  onDelete,\n  name,\n  webId,\n  ...buttonProps\n}) {\n  return (\n    <DeleteButton\n      confirmationTitle={confirmationTitle}\n      confirmationContent={`Are you sure you wish to delete ${\n        name || webId\n      } from your contacts?`}\n      dialogId=\"delete-contact\"\n      onDelete={onDelete}\n      successMessage={deleteContactSuccessMessage}\n      {...buttonProps}\n    >\n      Delete\n    </DeleteButton>\n  );\n}\n\nDeleteContactButton.propTypes = {\n  onDelete: T.func.isRequired,\n  name: T.string,\n  webId: T.string.isRequired,\n};\n\nDeleteContactButton.defaultProps = {\n  name: null,\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React from \"react\";\nimport Link from \"next/link\";\nimport T from \"prop-types\";\nimport {\n  ActionMenu,\n  ActionMenuItem,\n  Drawer,\n} from \"@inrupt/prism-react-components\";\nimport {\n  Accordion,\n  AccordionDetails,\n  AccordionSummary,\n} from \"@material-ui/core\";\nimport { ExpandMore } from \"@material-ui/icons\";\nimport DeleteContactButton from \"../../deleteContactButton\";\nimport { buildProfileLink } from \"../../profileLink\";\nimport ConfirmationDialog from \"../../confirmationDialog\";\n\nexport default function ContactsDrawer({\n  open,\n  onClose,\n  onDelete,\n  selectedContactName,\n  selectedContactWebId,\n  profileIri,\n}) {\n  const actionMenuBem = ActionMenu.useBem();\n  return (\n    <Drawer open={open} close={onClose}>\n      <Accordion defaultExpanded square>\n        <AccordionSummary expandIcon={<ExpandMore />}>Actions</AccordionSummary>\n        <AccordionDetails>\n          <ActionMenu>\n            <ActionMenuItem>\n              <Link href={buildProfileLink(profileIri, \"/contacts\")}>\n                <a className={actionMenuBem(\"action-menu__trigger\")}>\n                  View Profile\n                </a>\n              </Link>\n            </ActionMenuItem>\n            <ActionMenuItem>\n              <DeleteContactButton\n                className={actionMenuBem(\"action-menu__trigger\", \"danger\")}\n                onDelete={onDelete}\n                name={selectedContactName}\n                webId={selectedContactWebId}\n              />\n            </ActionMenuItem>\n          </ActionMenu>\n        </AccordionDetails>\n      </Accordion>\n      <ConfirmationDialog />\n    </Drawer>\n  );\n}\n\nContactsDrawer.propTypes = {\n  open: T.bool.isRequired,\n  onClose: T.func.isRequired,\n  onDelete: T.func.isRequired,\n  selectedContactName: T.string,\n  selectedContactWebId: T.string.isRequired,\n  profileIri: T.string.isRequired,\n};\n\nContactsDrawer.defaultProps = {\n  selectedContactName: null,\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { createStyles } from \"@solid/lit-prism-patterns\";\n\nconst styles = (theme) => {\n  return createStyles(theme, [], {\n    \"icon-large\": {\n      ...theme.icons.iconColor(\"#0D6796\"),\n      fontSize: 64,\n    },\n  });\n};\n\nexport default styles;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React from \"react\";\nimport Link from \"next/link\";\nimport { createStyles, makeStyles } from \"@material-ui/styles\";\nimport { useBem } from \"@solid/lit-prism-patterns\";\nimport {\n  Content,\n  Container,\n  Icons,\n  LinkButton,\n} from \"@inrupt/prism-react-components\";\nimport styles from \"./styles\";\n\nconst useStyles = makeStyles((theme) => createStyles(styles(theme)));\n\nconst TESTCAFE_ID_ADD_NEW_CONTACT_BUTTON = \"add-new-contact-button\";\n\nexport default function ContactsEmptyState() {\n  const bem = useBem(useStyles());\n\n  return (\n    <Content>\n      <Container variant=\"empty\">\n        <Icons name=\"user-astronaut\" className={bem(\"icon-large\")} />\n        <h1>You donâ€™t have any contacts yet!</h1>\n        <p>Add a new contact to share files with.</p>\n        <Link href=\"/contacts/add\">\n          <LinkButton\n            data-testid={TESTCAFE_ID_ADD_NEW_CONTACT_BUTTON}\n            variant=\"small\"\n            iconBefore=\"add\"\n          >\n            Add new contact\n          </LinkButton>\n        </Link>\n      </Container>\n    </Content>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useEffect, useState } from \"react\";\nimport clsx from \"clsx\";\nimport Link from \"next/link\";\nimport T from \"prop-types\";\nimport { createStyles } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { useBem } from \"@solid/lit-prism-patterns\";\nimport {\n  DrawerContainer,\n  PageHeader,\n  Table as PrismTable,\n} from \"@inrupt/prism-react-components\";\nimport {\n  getSourceUrl,\n  getStringNoLocale,\n  getThing,\n} from \"@inrupt/solid-client\";\nimport { Table, TableColumn, useSession } from \"@inrupt/solid-ui-react\";\nimport { vcard, foaf } from \"rdf-namespaces\";\nimport SortedTableCarat from \"../sortedTableCarat\";\nimport Spinner from \"../spinner\";\nimport styles from \"./styles\";\n\nimport { useRedirectIfLoggedOut } from \"../../src/effects/auth\";\nimport useAddressBookOld from \"../../src/hooks/useAddressBookOld\";\nimport useContactsOld from \"../../src/hooks/useContactsOld\";\nimport useProfiles from \"../../src/hooks/useProfiles\";\nimport ContactsListSearch from \"./contactsListSearch\";\nimport ProfileLink from \"../profileLink\";\nimport AgentAvatar from \"../agentAvatar\";\nimport { SearchProvider } from \"../../src/contexts/searchContext\";\nimport { deleteContact, getWebIdUrl } from \"../../src/addressBook\";\nimport ContactsDrawer from \"./contactsDrawer\";\nimport ContactsEmptyState from \"./contactsEmptyState\";\n\nconst useStyles = makeStyles((theme) => createStyles(styles(theme)));\n\nexport function handleClose(setSelectedContactIndex) {\n  return () => setSelectedContactIndex(null);\n}\n\nconst RowAvatar = ({ value, row }) => (\n  <AgentAvatar altText={row.values.col1} imageUrl={value} />\n);\n\nexport function handleDeleteContact({\n  addressBook,\n  closeDrawer,\n  fetch,\n  people,\n  peopleMutate,\n  selectedContactIndex,\n}) {\n  return async () => {\n    const selectedContact = people[selectedContactIndex];\n    await deleteContact(\n      getSourceUrl(addressBook),\n      selectedContact,\n      foaf.Person,\n      fetch\n    );\n    peopleMutate();\n    closeDrawer();\n  };\n}\n\nfunction ContactsList() {\n  useRedirectIfLoggedOut();\n\n  const tableClass = PrismTable.useTableClass(\"table\", \"inherits\");\n  const classes = useStyles();\n  const bem = useBem(classes);\n  const actionClass = PageHeader.usePageHeaderActionClassName();\n  const [search, setSearch] = useState(\"\");\n\n  const [addressBook, addressBookError] = useAddressBookOld();\n  const {\n    data: people,\n    error: peopleError,\n    mutate: peopleMutate,\n  } = useContactsOld(addressBook, foaf.Person);\n  const profiles = useProfiles(people);\n  const formattedNamePredicate = foaf.name;\n  const hasPhotoPredicate = vcard.hasPhoto;\n  const {\n    session: { fetch },\n  } = useSession();\n\n  const [selectedContactIndex, setSelectedContactIndex] = useState(null);\n  const [selectedContactName, setSelectedContactName] = useState(\"\");\n  const [selectedContactWebId, setSelectedContactWebId] = useState(\"\");\n\n  useEffect(() => {\n    if (selectedContactIndex === null) return;\n    const contactDataset = people[selectedContactIndex]?.dataset;\n    const contactThingUrl = people[selectedContactIndex]?.iri;\n    const contactThing = getThing(contactDataset, contactThingUrl);\n    const webId = getWebIdUrl(contactDataset, contactThingUrl);\n    const name =\n      getStringNoLocale(contactThing, formattedNamePredicate) ||\n      getStringNoLocale(contactThing, vcard.fn) ||\n      webId;\n    setSelectedContactName(name);\n    setSelectedContactWebId(webId);\n  }, [selectedContactIndex, formattedNamePredicate, people, fetch]);\n\n  if (addressBookError) return addressBookError;\n  if (peopleError) return peopleError;\n\n  const isLoading = !addressBook || !people || !profiles;\n\n  if (isLoading) return <Spinner />;\n\n  // format things for the data table\n  const contacts = profiles.map((p) => ({\n    thing: p,\n    dataset: addressBook,\n  }));\n\n  const closeDrawer = handleClose(setSelectedContactIndex);\n  const deleteSelectedContact = handleDeleteContact({\n    addressBook,\n    closeDrawer,\n    fetch,\n    people,\n    peopleMutate,\n    selectedContactIndex,\n  });\n  const drawer = (\n    <ContactsDrawer\n      open={selectedContactIndex !== null}\n      onClose={closeDrawer}\n      onDelete={deleteSelectedContact}\n      selectedContactName={selectedContactName}\n      profileIri={selectedContactWebId}\n      selectedContactWebId={selectedContactWebId}\n    />\n  );\n\n  return (\n    <SearchProvider setSearch={setSearch}>\n      <PageHeader\n        title=\"Contacts\"\n        actions={[\n          <Link href=\"/contacts/add\">\n            <a className={actionClass}>Add new contact</a>\n          </Link>,\n        ]}\n      >\n        <ContactsListSearch people={profiles} />\n      </PageHeader>\n      {!contacts.length ? (\n        <ContactsEmptyState />\n      ) : (\n        <DrawerContainer drawer={drawer} open={selectedContactIndex !== null}>\n          <Table\n            things={contacts}\n            className={clsx(tableClass, bem(\"table\"))}\n            filter={search}\n            ascIndicator={<SortedTableCarat sorted />}\n            descIndicator={<SortedTableCarat sorted sortedDesc />}\n            getRowProps={(row, contact) => {\n              return {\n                tabIndex: \"0\",\n                className: clsx(\n                  bem(\n                    \"table__body-row\",\n                    \"selectable\",\n                    contact === profiles[selectedContactIndex]\n                      ? \"selected\"\n                      : null\n                  )\n                ),\n                onKeyUp: (event) => {\n                  if (event.key === \"Enter\") setSelectedContactIndex(row.index);\n                },\n                onClick: () => {\n                  setSelectedContactIndex(row.index);\n                },\n              };\n            }}\n          >\n            <TableColumn\n              property={hasPhotoPredicate}\n              header=\"\"\n              dataType=\"url\"\n              body={RowAvatar}\n            />\n            <TableColumn\n              property={formattedNamePredicate}\n              header=\"Name\"\n              filterable\n              sortable\n              body={ProfileLink}\n            />\n          </Table>\n        </DrawerContainer>\n      )}\n    </SearchProvider>\n  );\n}\n\nRowAvatar.propTypes = {\n  value: T.string,\n  row: T.shape({\n    values: T.shape({\n      col1: T.string,\n    }),\n  }),\n};\n\nRowAvatar.defaultProps = {\n  value: null,\n  row: null,\n};\n\nexport default ContactsList;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useEffect, useState } from \"react\";\nimport { useSession } from \"@inrupt/solid-ui-react\";\nimport { getProfiles } from \"../../addressBook\";\n\nexport default function useProfiles(contacts) {\n  const [profiles, setProfiles] = useState(null);\n  const {\n    session: { fetch },\n  } = useSession();\n\n  useEffect(() => {\n    if (!contacts) {\n      setProfiles(null);\n      return;\n    }\n    (async () => {\n      const profilesResponse = await getProfiles(contacts, fetch);\n      setProfiles(profilesResponse);\n    })();\n  }, [fetch, contacts]);\n\n  return profiles;\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React from \"react\";\nimport { DetailsMenuProvider } from \"../../../src/contexts/detailsMenuContext\";\nimport { useRedirectIfLoggedOut } from \"../../../src/effects/auth\";\nimport ContactsList from \"../../contactsList\";\n\nexport default function ContactsPage() {\n  useRedirectIfLoggedOut();\n\n  return (\n    <DetailsMenuProvider>\n      <ContactsList />\n    </DetailsMenuProvider>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React from \"react\";\nimport ContactsPage from \"../components/pages/contacts\";\n\nexport default function Contacts() {\n  return <ContactsPage />;\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useEffect, useState } from \"react\";\nimport { useSession } from \"@inrupt/solid-ui-react\";\nimport useAuthenticatedProfile from \"../useAuthenticatedProfile\";\nimport { getContactsIndexIri, saveNewAddressBook } from \"../../addressBook\";\nimport { getResource } from \"../../solidClientHelpers/resource\";\nimport { ERROR_CODES, isHTTPError } from \"../../error\";\nimport useContactsContainerUrl from \"../useContactsContainerUrl\";\n\nexport default function useAddressBookOld() {\n  const [addressBook, setAddressBook] = useState(null);\n  const [error, setError] = useState(null);\n  const { session } = useSession();\n  const { data: profile } = useAuthenticatedProfile();\n  const addressBookContainerUrl = useContactsContainerUrl();\n\n  useEffect(() => {\n    if (!session.info.isLoggedIn || !profile || !addressBookContainerUrl) {\n      return;\n    }\n    const { webId } = profile;\n    const { fetch } = session;\n    const contactsIndexIri = getContactsIndexIri(addressBookContainerUrl);\n\n    (async () => {\n      const { response: existingAddressBook, error: existingError } =\n        await getResource(contactsIndexIri, fetch);\n\n      if (existingAddressBook) {\n        setAddressBook(existingAddressBook.dataset);\n        return;\n      }\n\n      if (existingError && isHTTPError(existingError, ERROR_CODES.NOT_FOUND)) {\n        const { response: newAddressBook, error: newError } =\n          await saveNewAddressBook(\n            {\n              iri: addressBookContainerUrl,\n              owner: webId,\n            },\n            fetch\n          );\n        if (newError) {\n          setError(newError);\n          return;\n        }\n        setAddressBook(newAddressBook.index);\n        return;\n      }\n      setError(existingError);\n    })();\n  }, [session, profile, addressBookContainerUrl]);\n\n  return [addressBook, error];\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useEffect, useState } from \"react\";\nimport { useSession } from \"@inrupt/solid-ui-react\";\nimport useAuthenticatedProfile from \"../useAuthenticatedProfile\";\nimport { contactsContainerIri } from \"../../addressBook\";\n\nexport default function useContactsContainerUrl() {\n  const [addressBookContainer, setAddressBookContainer] = useState(null);\n  const { session } = useSession();\n  const { data: profile } = useAuthenticatedProfile();\n\n  useEffect(() => {\n    if (!session.info.isLoggedIn || !profile) return;\n    const { pods } = profile;\n    setAddressBookContainer(contactsContainerIri(pods[0]));\n  }, [profile, session.info.isLoggedIn]);\n\n  return addressBookContainer;\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport useSWR from \"swr\";\nimport { useSession } from \"@inrupt/solid-ui-react\";\nimport {\n  getContacts,\n  getIndexDatasetFromAddressBook,\n  TYPE_MAP,\n} from \"../../addressBook\";\n\nexport default function useContactsOld(addressBook, type) {\n  const {\n    session: { fetch },\n  } = useSession();\n\n  return useSWR(\n    addressBook,\n    async () => {\n      const { indexFilePredicate } = TYPE_MAP[type];\n      const { contactTypeIri } = TYPE_MAP[type];\n      const { response: indexFileDataset } =\n        await getIndexDatasetFromAddressBook(\n          addressBook,\n          indexFilePredicate,\n          fetch\n        );\n      const { response, error } = await getContacts(\n        indexFileDataset,\n        contactTypeIri,\n        fetch\n      );\n      if (error) {\n        throw error;\n      }\n      return response;\n    },\n    { refreshInterval: 0 }\n  );\n}\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/contacts\",\n      function () {\n        return require(\"private-next-pages/contacts.jsx\");\n      }\n    ]);\n    if(module.hot) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/contacts\"])\n      });\n    }\n  "],"names":["useStyles","makeStyles","theme","createStyles","dialog","width","dialogActions","padding","spacing","dialogTitle","fontSize","typography","h2","fontWeight","dialogText","body","fontFamily","dangerButton","backgroundColor","palette","error","main","styles","ConfirmationDialog","classes","useContext","ConfirmationDialogContext","open","title","content","customContentWrapper","setConfirmed","cancelText","confirmText","omitCancelButton","isDangerousAction","Dialog","paperWidthFalse","maxWidth","DialogTitle","disableTypography","root","DialogContent","DialogContentText","id","DialogActions","variant","className","cancelButton","autoFocus","onClick","submitAgentsButton","type","button","DeleteButton","confirmationTitle","confirmationContent","dialogId","onDelete","successMessage","resourceName","buttonProps","bem","useBem","AlertContext","setAlertOpen","setMessage","setSeverity","useState","confirmationSetup","setConfirmationSetup","confirmed","setContent","setOpen","setTitle","closeDialog","deleteResource","onDeleteError","handleDeleteResource","e","isHTTPError","toString","useEffect","clsx","defaultProps","tableStyles","table","table__link","avatar","height","d","DeleteContactButton","name","webId","ContactsDrawer","onClose","selectedContactName","selectedContactWebId","profileIri","actionMenuBem","ActionMenu","close","Accordion","defaultExpanded","square","AccordionSummary","expandIcon","ExpandMore","AccordionDetails","href","buildProfileLink","icons","iconColor","ContactsEmptyState","iconBefore","RowAvatar","value","row","altText","values","col1","imageUrl","useRedirectIfLoggedOut","tableClass","PrismTable","actionClass","PageHeader","search","setSearch","useAddressBookOld","addressBook","addressBookError","useContactsOld","foaf","people","data","peopleError","peopleMutate","mutate","profiles","contacts","setProfiles","fetch","useSession","session","getProfiles","profilesResponse","useProfiles","formattedNamePredicate","hasPhotoPredicate","vcard","selectedContactIndex","setSelectedContactIndex","setSelectedContactName","setSelectedContactWebId","contactDataset","dataset","contactThingUrl","iri","contactThing","getThing","getWebIdUrl","getStringNoLocale","map","p","thing","closeDrawer","handleClose","deleteSelectedContact","selectedContact","deleteContact","getSourceUrl","handleDeleteContact","drawer","actions","length","Table","things","filter","ascIndicator","sorted","descIndicator","sortedDesc","getRowProps","contact","tabIndex","onKeyUp","event","key","index","TableColumn","property","header","dataType","filterable","sortable","ProfileLink","ContactsPage","Contacts","setAddressBook","setError","profile","useAuthenticatedProfile","addressBookContainerUrl","useContactsContainerUrl","info","isLoggedIn","contactsIndexIri","getContactsIndexIri","getResource","existingAddressBook","response","existingError","ERROR_CODES","saveNewAddressBook","owner","newAddressBook","newError","addressBookContainer","setAddressBookContainer","pods","contactsContainerIri","useSWR","indexFilePredicate","TYPE_MAP","contactTypeIri","getIndexDatasetFromAddressBook","indexFileDataset","getContacts","refreshInterval","window","__NEXT_P","push"],"sourceRoot":""}