{"version":3,"file":"static/chunks/153-476f78c4ca2a8fa0.js","mappings":"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","sources":["webpack://_N_E/./src/contexts/addressBookContext/index.jsx","webpack://_N_E/./src/contexts/groupAllContext/index.jsx","webpack://_N_E/./src/contexts/groupContext/index.jsx","webpack://_N_E/./src/hooks/useGroup/index.js","webpack://_N_E/./components/createGroupButton/index.jsx","webpack://_N_E/./components/groupList/groupListEmpty/index.jsx","webpack://_N_E/./components/groupList/groupListEmpty/styles.js","webpack://_N_E/./components/groupList/index.jsx","webpack://_N_E/./components/groupList/styles.js","webpack://_N_E/./components/groupView/groupViewEmpty/index.jsx","webpack://_N_E/./components/groupView/groupViewEmpty/styles.js","webpack://_N_E/./components/groupDetails/groupDetailsModal/index.jsx","webpack://_N_E/./components/groupDetails/groupDeleteModal/index.jsx","webpack://_N_E/./components/groupDetails/groupDetailsActionButton/index.jsx","webpack://_N_E/./components/groupDetails/index.jsx","webpack://_N_E/./components/groupDetails/styles.js","webpack://_N_E/./components/groupView/index.jsx","webpack://_N_E/./components/groupView/styles.js","webpack://_N_E/./components/pages/groups/index.jsx","webpack://_N_E/./components/pages/groups/styles.js","webpack://_N_E/./src/effects/auth/index.js"],"sourcesContent":["/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { createContext } from \"react\";\nimport T from \"prop-types\";\nimport useAddressBook from \"../../hooks/useAddressBook\";\n\nconst AddressBookContext = createContext(null);\n\nexport default AddressBookContext;\n\nexport function AddressBookProvider({ children }) {\n  const addressBook = useAddressBook();\n  return (\n    <AddressBookContext.Provider value={addressBook}>\n      {children}\n    </AddressBookContext.Provider>\n  );\n}\n\nAddressBookProvider.propTypes = {\n  children: T.node,\n};\n\nAddressBookProvider.defaultProps = {\n  children: null,\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { createContext } from \"react\";\nimport T from \"prop-types\";\nimport useContacts from \"../../hooks/useContacts\";\nimport { GROUP_CONTACT } from \"../../models/contact/group\";\n\nconst GroupAllContext = createContext(null);\n\nexport default GroupAllContext;\n\nexport function GroupAllProvider({ children }) {\n  const groups = useContacts([GROUP_CONTACT]);\n  return (\n    <GroupAllContext.Provider value={groups}>\n      {children}\n    </GroupAllContext.Provider>\n  );\n}\n\nGroupAllProvider.propTypes = {\n  children: T.node,\n};\n\nGroupAllProvider.defaultProps = {\n  children: null,\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { createContext, useContext } from \"react\";\nimport T from \"prop-types\";\nimport { useRouter } from \"next/router\";\nimport useGroup from \"../../hooks/useGroup\";\nimport { getGroupName, getGroupUrl } from \"../../models/group\";\nimport GroupAllContext from \"../groupAllContext\";\n\nconst GroupContext = createContext(null);\n\nexport default GroupContext;\n\nexport function GroupProvider({ children }) {\n  const { data: groups } = useContext(GroupAllContext);\n  const sortedGroups = groups?.sort((a, b) =>\n    getGroupName(a) < getGroupName(b) ? -1 : 1\n  );\n  const router = useRouter();\n  const groupUrl =\n    router.query.iri ||\n    (sortedGroups && sortedGroups[0] ? getGroupUrl(sortedGroups[0]) : null); // TODO: Tried sortedGroup?[0] ? ... : ..., but ESLint don't accept it\n  const group = useGroup(groupUrl);\n  return (\n    <GroupContext.Provider value={group}>{children}</GroupContext.Provider>\n  );\n}\n\nGroupProvider.propTypes = {\n  children: T.node.isRequired,\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport useSWR from \"swr\";\nimport { useSession } from \"@inrupt/solid-ui-react\";\nimport { getGroup } from \"../../models/group\";\n\nexport default function useGroup(groupUrl) {\n  const { fetch } = useSession();\n  return useSWR(\n    [\"group\", groupUrl],\n    async () => {\n      if (!groupUrl) return null;\n      return getGroup(groupUrl, fetch);\n    },\n    {\n      errorRetryCount: 0,\n    }\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/* eslint react/jsx-props-no-spreading:off */\n\nimport React, { useContext, useState } from \"react\";\nimport { Button } from \"@inrupt/prism-react-components\";\nimport T from \"prop-types\";\nimport { useSession } from \"@inrupt/solid-ui-react\";\nimport { useRouter } from \"next/router\";\nimport { saveGroup } from \"../../src/models/contact/group\";\nimport { getGroupUrl } from \"../../src/models/group\";\nimport Spinner from \"../spinner\";\nimport AddressBookContext from \"../../src/contexts/addressBookContext\";\nimport GroupAllContext from \"../../src/contexts/groupAllContext\";\nimport { getContactAllFromContactsIndex } from \"../../src/models/contact\";\nimport GroupContext from \"../../src/contexts/groupContext\";\n\nexport const TESTCAFE_ID_CREATE_GROUP_BUTTON = \"create-group-button\";\n\nexport default function CreateGroupButton({ children, ...props }) {\n  const {\n    data: addressBook,\n    error: addressBookError,\n    mutate: mutateAddressBook,\n  } = useContext(AddressBookContext);\n  const {\n    data: groups,\n    error: groupsError,\n    mutate: mutateGroups,\n  } = useContext(GroupAllContext);\n  const { mutate: mutateGroup } = useContext(GroupContext);\n  const { fetch } = useSession();\n  const router = useRouter();\n  const [processing, setProcessing] = useState(false);\n\n  const onClick = async (event) => {\n    event.preventDefault();\n    setProcessing(true);\n    const groupName = `Group ${groups.length + 1}`;\n    const {\n      addressBook: updatedAddressBook,\n      group,\n      groupIndex,\n    } = await saveGroup(addressBook, groupName, fetch);\n    const updatedGroups = getContactAllFromContactsIndex(groupIndex);\n    await Promise.all([\n      mutateAddressBook(updatedAddressBook),\n      mutateGroups(updatedGroups),\n      mutateGroup(group),\n    ]);\n    const groupUrl = getGroupUrl(group);\n    await router.push(`/groups/${encodeURIComponent(groupUrl)}?created`);\n    setProcessing(false);\n  };\n\n  const loading =\n    (!groups && !groupsError) || (!addressBook && !addressBookError);\n  if (loading) return null;\n  if (processing) return <Spinner />;\n\n  return (\n    <Button\n      {...props}\n      data-testid={TESTCAFE_ID_CREATE_GROUP_BUTTON}\n      onClick={onClick}\n    >\n      {children}\n    </Button>\n  );\n}\n\nCreateGroupButton.propTypes = {\n  children: T.node.isRequired,\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { createStyles } from \"@material-ui/core\";\nimport { useBem } from \"@solid/lit-prism-patterns\";\nimport styles from \"./styles\";\n\nconst useStyles = makeStyles((theme) => createStyles(styles(theme)));\n\nexport const TESTCAFE_ID_GROUP_LIST_EMPTY = \"group-list-empty\";\nexport default function GroupListEmpty() {\n  const bem = useBem(useStyles());\n  return (\n    <div\n      className={bem(\"group-list-empty\")}\n      data-testid={TESTCAFE_ID_GROUP_LIST_EMPTY}\n    >\n      No groups\n    </div>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nexport default function styles(theme) {\n  return {\n    \"group-list-empty\": {\n      color: theme.palette.grey[\"600\"],\n      margin: theme.spacing(2, 0),\n      textAlign: \"center\",\n    },\n  };\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { createStyles } from \"@material-ui/core\";\nimport { useBem } from \"@solid/lit-prism-patterns\";\nimport { Icons } from \"@inrupt/prism-react-components\";\nimport Link from \"next/link\";\nimport { useRouter } from \"next/router\";\nimport styles from \"./styles\";\nimport Spinner from \"../spinner\";\nimport CreateGroupButton from \"../createGroupButton\";\nimport { getGroupName, getGroupUrl } from \"../../src/models/group\";\nimport ErrorMessage from \"../errorMessage\";\nimport GroupListEmpty from \"./groupListEmpty\";\nimport GroupAllContext from \"../../src/contexts/groupAllContext\";\n\nconst useStyles = makeStyles((theme) => createStyles(styles(theme)));\n\nexport const TESTCAFE_ID_GROUP_LIST = \"group-list\";\nexport const TESTCAFE_ID_GROUP_LIST_ITEM = \"group-list-item\";\nexport const TESTCAFE_ID_GROUP_LIST_LINK = \"group-list-link\";\n\nexport default function GroupList() {\n  const { data: groups, error } = useContext(GroupAllContext);\n  const bem = useBem(useStyles());\n  const router = useRouter();\n  const selectedGroupUrl = router.query.iri;\n  const sortedGroups = groups?.sort((a, b) =>\n    getGroupName(a) < getGroupName(b) ? -1 : 1\n  );\n  const loading = !groups && !error;\n  return (\n    <div data-testid={TESTCAFE_ID_GROUP_LIST}>\n      <div className={bem(\"group-list-header\")}>\n        <div className={bem(\"group-list-header__title\")}>Groups</div>\n        <CreateGroupButton iconBefore=\"add\" variant=\"small\">\n          New Group\n        </CreateGroupButton>\n      </div>\n      {loading && <Spinner />}\n      {error && <ErrorMessage error={error} />}\n      {!error && groups && groups.length === 0 && <GroupListEmpty />}\n      {!error && groups && groups.length > 0 && (\n        <ul className={bem(\"group-list\")}>\n          {sortedGroups.map((group, index) => {\n            const groupUrl = getGroupUrl(group);\n            const groupName = getGroupName(group);\n            const selected = selectedGroupUrl\n              ? selectedGroupUrl === groupUrl\n              : index === 0;\n            return (\n              <li\n                className={bem(\"group-list__item\")}\n                key={groupUrl}\n                data-testid={TESTCAFE_ID_GROUP_LIST_ITEM}\n              >\n                <Link href={`/groups/${encodeURIComponent(groupUrl)}`}>\n                  <a\n                    className={bem(\"group-list__link\", { selected })}\n                    data-testid={TESTCAFE_ID_GROUP_LIST_LINK}\n                  >\n                    <Icons\n                      name=\"users\"\n                      className={bem(\"group-list__icon\", { selected })}\n                    />\n                    <span className={bem(\"group-list__text\")}>{groupName}</span>\n                  </a>\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n      )}\n    </div>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nexport default function styles(theme) {\n  const lightPrimaryColor = \"#633DCC\"; // TODO: THIS MUST BE MOVED TO PRISM\n  const lightPrimaryBackgroundColor = \"#F1EDFF\"; // TODO: THIS MUST BE MOVED TO PRISM\n  return {\n    \"group-list-header\": {\n      alignItems: \"center\",\n      display: \"flex\",\n      marginBottom: theme.spacing(1),\n      [theme.breakpoints.up(\"sm\")]: {\n        padding: theme.spacing(1.6, 2.4, 1.2, 2.4),\n      },\n    },\n    \"group-list-header__title\": {\n      ...theme.typography.h5,\n      flexGrow: 1,\n    },\n    \"group-list\": {\n      listStyle: \"none\",\n      margin: 0,\n      padding: 0,\n    },\n    \"group-list__item\": {},\n    \"group-list__link\": {\n      color: theme.palette.text.primary,\n      display: \"flex\",\n      gap: theme.spacing(1.4),\n      alignItems: \"center\",\n      borderLeft: `solid 3px transparent`,\n      textDecoration: \"none\",\n      padding: theme.spacing(1.6, 0),\n      [theme.breakpoints.up(\"sm\")]: {\n        padding: theme.spacing(1.6, 2.4),\n      },\n    },\n    \"group-list__link--selected\": {\n      [theme.breakpoints.up(\"sm\")]: {\n        background: lightPrimaryBackgroundColor,\n        borderColor: lightPrimaryColor,\n        color: lightPrimaryColor,\n        fontFamily: theme.typography.body1.fontFamily,\n        fontWeight: theme.typography.fontWeightBold,\n      },\n    },\n    \"group-list__icon\": {\n      fontSize: \"0.8125rem\",\n    },\n    \"group-list__icon--selected\": {\n      [theme.breakpoints.up(\"sm\")]: theme.icons.iconColor(\n        theme.palette.primary.main\n      ),\n    },\n    \"group-list__text\": {\n      wordBreak: \"break-all\",\n    },\n  };\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { Icons } from \"@inrupt/prism-react-components\";\nimport React from \"react\";\nimport { useBem } from \"@solid/lit-prism-patterns\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { createStyles } from \"@material-ui/core\";\nimport styles from \"./styles\";\nimport CreateGroupButton from \"../../createGroupButton\";\n\nconst useStyles = makeStyles((theme) => createStyles(styles(theme)));\n\nexport const TESTCAFE_ID_GROUP_VIEW_EMPTY = \"group-view-empty\";\n\nexport default function GroupViewEmpty() {\n  const bem = useBem(useStyles());\n  return (\n    <div\n      className={bem(\"group-view-empty\")}\n      data-testid={TESTCAFE_ID_GROUP_VIEW_EMPTY}\n    >\n      <Icons name=\"users\" className={bem(\"icon-large\")} />\n      <h2>You don&apos;t have any groups yet!</h2>\n      <p>Create a new group to easily share files with.</p>\n      <CreateGroupButton>Create New Group</CreateGroupButton>\n    </div>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nexport default function styles(theme) {\n  return {\n    \"group-view-empty\": {\n      marginTop: theme.spacing(7),\n      textAlign: \"center\",\n    },\n    \"icon-large\": {\n      ...theme.icons.iconColor(\"#0D6796\"),\n      fontSize: 64,\n    },\n  };\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/* eslint react/forbid-prop-types: off, react/jsx-props-no-spreading: off */\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport T from \"prop-types\";\nimport { useSession } from \"@inrupt/solid-ui-react\";\nimport {\n  Button,\n  Form,\n  Input,\n  Textarea,\n  Modal,\n  ModalBody,\n  ModalButtonsContainer,\n  ModalTitle,\n  ModalContainer,\n} from \"@inrupt/prism-react-components\";\nimport { vcard } from \"rdf-namespaces/dist/index\";\nimport { getGroupDescription, getGroupName } from \"../../../src/models/group\";\nimport Spinner from \"../../spinner\";\nimport { renameGroup } from \"../../../src/models/contact/group\";\nimport ErrorMessage from \"../../errorMessage\";\nimport { getContactAllFromContactsIndex } from \"../../../src/models/contact\";\nimport GroupAllContext from \"../../../src/contexts/groupAllContext\";\nimport AddressBookContext from \"../../../src/contexts/addressBookContext\";\nimport GroupContext from \"../../../src/contexts/groupContext\";\n\nexport const TESTCAFE_ID_GROUP_DETAILS_MODAL = \"group-details-modal\";\nexport const TESTCAFE_ID_GROUP_DETAILS_MODAL_NAME_FIELD =\n  \"group-details-modal-name-field\";\nexport const TESTCAFE_ID_GROUP_DETAILS_MODAL_DESCRIPTION_FIELD =\n  \"group-details-modal-description-field\";\nexport const TESTCAFE_ID_GROUP_DETAILS_MODAL_SAVE_BUTTON =\n  \"group-details-modal-save-button\";\nexport const TESTCAFE_ID_GROUP_DETAILS_MODAL_CANCEL_BUTTON =\n  \"group-details-modal-cancel-button\";\n\nconst ID_GROUP_DETAILS_TITLE = \"GroupDetailsTitle\";\n\nexport const MESSAGE_GROUP_DETAILS_MODAL_NAME_REQUIRED = \"Name is required\";\n\nexport const LIMITATION_GROUP_DETAILS_MODAL_NAME_MAX_LENGTH = 50;\nexport const LIMITATION_GROUP_DETAILS_MODAL_DESCRIPTION_MAX_LENGTH = 250;\n\nexport default function GroupDetailsModal({ handleClose, open }) {\n  const {\n    data: group,\n    error: groupError,\n    mutate: mutateGroup,\n    isValidating: groupIsValidating,\n  } = useContext(GroupContext);\n  const {\n    data: addressBook,\n    error: addressBookError,\n    isValidating: addressBookIsValidating,\n  } = useContext(AddressBookContext);\n  const {\n    error: groupsError,\n    mutate: mutateGroups,\n    isValidating: groupAllIsValidating,\n  } = useContext(GroupAllContext);\n  const { fetch } = useSession();\n  const [processing, setProcessing] = useState(false);\n  const nameFieldId = \"GroupName\";\n  const [groupName, setGroupName] = useState(\"\");\n  const descriptionFieldId = \"GroupDescription\";\n  const [groupDescription, setGroupDescription] = useState(\"\");\n\n  useEffect(() => {\n    if (!group) return;\n    setGroupName(getGroupName(group));\n    setGroupDescription(getGroupDescription(group));\n  }, [group]);\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    if (!groupName) return;\n    setProcessing(true);\n\n    const { group: updatedGroup, groupIndex } = await renameGroup(\n      addressBook,\n      group,\n      groupName,\n      fetch,\n      {\n        [vcard.note]: groupDescription,\n      }\n    );\n    const updatedGroups = getContactAllFromContactsIndex(groupIndex);\n    await Promise.all([mutateGroup(updatedGroup), mutateGroups(updatedGroups)]);\n    setProcessing(false);\n    handleClose();\n  };\n\n  const loading =\n    processing ||\n    groupIsValidating ||\n    addressBookIsValidating ||\n    groupAllIsValidating;\n\n  if (loading) return <Spinner />;\n\n  const error = addressBookError || groupError || groupsError;\n\n  if (error) return <ErrorMessage error={error} />;\n\n  return (\n    <Modal\n      open={open}\n      onClose={handleClose}\n      data-testid={TESTCAFE_ID_GROUP_DETAILS_MODAL}\n      aria-labelledby={ID_GROUP_DETAILS_TITLE}\n    >\n      <ModalContainer>\n        <ModalTitle id={ID_GROUP_DETAILS_TITLE}>Edit Group Details</ModalTitle>\n        <ModalBody>\n          <Form onSubmit={onSubmit}>\n            <Input\n              id={nameFieldId}\n              label=\"Group Name\"\n              value={groupName}\n              invalidMessage={\n                groupName ? null : MESSAGE_GROUP_DETAILS_MODAL_NAME_REQUIRED\n              }\n              onChange={(event) => setGroupName(event.target.value)}\n              data-testid={TESTCAFE_ID_GROUP_DETAILS_MODAL_NAME_FIELD}\n              required\n              maxLength={LIMITATION_GROUP_DETAILS_MODAL_NAME_MAX_LENGTH}\n              autoFocus\n            />\n            <Textarea\n              id={descriptionFieldId}\n              label=\"Group Description (Optional)\"\n              value={groupDescription}\n              onChange={(event) => setGroupDescription(event.target.value)}\n              data-testid={TESTCAFE_ID_GROUP_DETAILS_MODAL_DESCRIPTION_FIELD}\n              maxLength={LIMITATION_GROUP_DETAILS_MODAL_DESCRIPTION_MAX_LENGTH}\n            />\n          </Form>\n        </ModalBody>\n        <ModalButtonsContainer>\n          <Button\n            data-testid={TESTCAFE_ID_GROUP_DETAILS_MODAL_CANCEL_BUTTON}\n            variant=\"secondary\"\n            onClick={() => handleClose()}\n          >\n            Cancel\n          </Button>\n          <Button\n            data-testid={TESTCAFE_ID_GROUP_DETAILS_MODAL_SAVE_BUTTON}\n            onClick={onSubmit}\n          >\n            Save\n          </Button>\n        </ModalButtonsContainer>\n      </ModalContainer>\n    </Modal>\n  );\n}\n\nGroupDetailsModal.propTypes = {\n  handleClose: T.func.isRequired,\n  open: T.bool.isRequired,\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useContext, useState } from \"react\";\nimport T from \"prop-types\";\nimport {\n  Button,\n  Content,\n  Modal,\n  ModalBody,\n  ModalButtonsContainer,\n  ModalContainer,\n  ModalTitle,\n} from \"@inrupt/prism-react-components\";\nimport { useSession } from \"@inrupt/solid-ui-react\";\nimport { useRouter } from \"next/router\";\nimport GroupContext from \"../../../src/contexts/groupContext\";\nimport { getGroupName } from \"../../../src/models/group\";\nimport GroupAllContext from \"../../../src/contexts/groupAllContext\";\nimport AddressBookContext from \"../../../src/contexts/addressBookContext\";\nimport Spinner from \"../../spinner\";\nimport { deleteGroup } from \"../../../src/models/contact/group\";\n\nexport const TESTCAFE_ID_GROUP_DELETE_MODAL = \"group-delete-modal\";\nexport const TESTCAFE_ID_GROUP_DELETE_MODAL_TITLE = \"group-delete-modal-title\";\nexport const TESTCAFE_ID_GROUP_DELETE_MODAL_BODY = \"group-delete-modal-body\";\nexport const TESTCAFE_ID_GROUP_DELETE_MODAL_SAVE_BUTTON =\n  \"group-delete-modal-save-button\";\nexport const TESTCAFE_ID_GROUP_DELETE_MODAL_CANCEL_BUTTON =\n  \"group-delete-modal-cancel-button\";\n\nconst ID_GROUP_DELETE_MODAL_TITLE = \"GroupDeleteModalTitle\";\n\nexport const MESSAGE_GROUP_DELETE_MODAL_BODY =\n  \"Everyone in the group will lose access to anything shared with this group.\";\n\nexport default function GroupDeleteModal({ handleClose, open }) {\n  const { data: addressBook } = useContext(AddressBookContext);\n  const { mutate: mutateGroupAll } = useContext(GroupAllContext);\n  const { data: group } = useContext(GroupContext);\n  const { fetch } = useSession();\n  const router = useRouter();\n  const [processing, setProcessing] = useState(false);\n\n  const groupName = getGroupName(group);\n\n  const onDelete = async () => {\n    setProcessing(true);\n    await deleteGroup(addressBook, group, fetch);\n    await mutateGroupAll();\n    await router.push(\"/groups\");\n    setProcessing(false);\n  };\n\n  return (\n    <Modal\n      open={open}\n      onClose={handleClose}\n      data-testid={TESTCAFE_ID_GROUP_DELETE_MODAL}\n      aria-labelledby={ID_GROUP_DELETE_MODAL_TITLE}\n    >\n      <ModalContainer>\n        {processing && <Spinner />}\n        {!processing && (\n          <>\n            <ModalTitle\n              id={ID_GROUP_DELETE_MODAL_TITLE}\n              data-testid={TESTCAFE_ID_GROUP_DELETE_MODAL_TITLE}\n            >\n              Delete&nbsp;\n              {groupName}\n            </ModalTitle>\n            <ModalBody data-testid={TESTCAFE_ID_GROUP_DELETE_MODAL_BODY}>\n              <Content>\n                <p>{MESSAGE_GROUP_DELETE_MODAL_BODY}</p>\n              </Content>\n            </ModalBody>\n            <ModalButtonsContainer>\n              <Button\n                variant=\"secondary\"\n                onClick={handleClose}\n                data-testid={TESTCAFE_ID_GROUP_DELETE_MODAL_CANCEL_BUTTON}\n              >\n                Cancel\n              </Button>\n              <Button\n                onClick={onDelete}\n                data-testid={TESTCAFE_ID_GROUP_DELETE_MODAL_SAVE_BUTTON}\n              >\n                Delete Group\n              </Button>\n            </ModalButtonsContainer>\n          </>\n        )}\n      </ModalContainer>\n    </Modal>\n  );\n}\n\nGroupDeleteModal.propTypes = {\n  handleClose: T.func.isRequired,\n  open: T.bool.isRequired,\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/* eslint react/jsx-props-no-spreading: off */\n\nimport { ActionButton, Button } from \"@inrupt/prism-react-components\";\nimport React, { useState } from \"react\";\nimport { Divider } from \"@material-ui/core\";\nimport GroupDetailsModal from \"../groupDetailsModal\";\nimport GroupDeleteModal from \"../groupDeleteModal\";\n\nexport const TESTCAFE_ID_GROUP_DETAILS_ACTION_BUTTON_EDIT_ACTION =\n  \"group-details-action-button-edit-action\";\nexport const TESTCAFE_ID_GROUP_DETAILS_ACTION_BUTTON_DELETE_ACTION =\n  \"group-details-action-button-delete-action\";\n\nconst ACTION_EDIT = \"edit\";\nconst ACTION_DELETE = \"delete\";\n\nexport default function GroupDetailsActionButton(props) {\n  const [action, setAction] = useState(null);\n  const handleOpen = (act) => setAction(act);\n  const handleClose = () => setAction(null);\n\n  return (\n    <div {...props}>\n      <ActionButton>\n        <Button\n          onClick={() => handleOpen(ACTION_EDIT)}\n          data-testid={TESTCAFE_ID_GROUP_DETAILS_ACTION_BUTTON_EDIT_ACTION}\n          variant=\"in-menu\"\n        >\n          Edit Group Details\n        </Button>\n        <Divider />\n        <Button\n          onClick={() => handleOpen(ACTION_DELETE)}\n          data-testid={TESTCAFE_ID_GROUP_DETAILS_ACTION_BUTTON_DELETE_ACTION}\n          variant=\"in-menu-danger\"\n          iconBefore=\"delete\"\n        >\n          Delete Group\n        </Button>\n      </ActionButton>\n      <GroupDetailsModal\n        handleClose={handleClose}\n        open={action === ACTION_EDIT}\n      />\n      <GroupDeleteModal\n        handleClose={handleClose}\n        open={action === ACTION_DELETE}\n      />\n    </div>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useContext } from \"react\";\nimport { createStyles } from \"@material-ui/core\";\nimport { Content, LinkButton } from \"@inrupt/prism-react-components\";\nimport Link from \"next/link\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { useBem } from \"@solid/lit-prism-patterns\";\nimport styles from \"./styles\";\nimport GroupContext from \"../../src/contexts/groupContext\";\nimport Spinner from \"../spinner\";\nimport { getGroupDescription, getGroupName } from \"../../src/models/group\";\nimport GroupDetailsActionButton from \"./groupDetailsActionButton\";\nimport GroupAllContext from \"../../src/contexts/groupAllContext\";\n\nexport const TESTCAFE_ID_GROUP_DETAILS = \"group-details\";\nexport const TESTCAFE_ID_GROUP_DETAILS_BACK_LINK = \"group-details-back-link\";\nexport const TESTCAFE_ID_GROUP_DETAILS_NAME = \"group-details-name\";\nexport const TESTCAFE_ID_GROUP_DETAILS_DESCRIPTION =\n  \"group-details-description\";\n\nexport const MESSAGE_GROUP_DETAILS_DESCRIPTION_FALLBACK =\n  \"(Optional) Add a group description\";\n\nconst useStyles = makeStyles((theme) => createStyles(styles(theme)));\n\nexport default function GroupDetails() {\n  const { data: group, isValidating: groupIsValidating } =\n    useContext(GroupContext);\n  const { isValidating: groupAllIsValidating } = useContext(GroupAllContext);\n  const bem = useBem(useStyles());\n\n  const loading = groupIsValidating || groupAllIsValidating;\n  if (loading) return <Spinner />;\n\n  const groupDescription = getGroupDescription(group);\n  return (\n    <div\n      data-testid={TESTCAFE_ID_GROUP_DETAILS}\n      className={bem(\"group-details\")}\n    >\n      <div className={bem(\"group-details__main-content\")}>\n        <Link href=\"/groups\">\n          <LinkButton\n            variant=\"text\"\n            iconBefore=\"caret-left\"\n            className={bem(\"group-details__back-link\")}\n            data-testid={TESTCAFE_ID_GROUP_DETAILS_BACK_LINK}\n          >\n            All Groups\n          </LinkButton>\n        </Link>\n        <Content>\n          <h1\n            className={bem(\"group-details__title\")}\n            data-testid={TESTCAFE_ID_GROUP_DETAILS_NAME}\n          >\n            {getGroupName(group)}\n          </h1>\n          {groupDescription ? (\n            <p\n              className={bem(\"group-details__description\")}\n              data-testid={TESTCAFE_ID_GROUP_DETAILS_DESCRIPTION}\n            >\n              {groupDescription}\n            </p>\n          ) : (\n            <p\n              className={bem(\"group-details__description\", \"fallback\")}\n              data-testid={TESTCAFE_ID_GROUP_DETAILS_DESCRIPTION}\n            >\n              {MESSAGE_GROUP_DETAILS_DESCRIPTION_FALLBACK}\n            </p>\n          )}\n        </Content>\n      </div>\n      <GroupDetailsActionButton\n        className={bem(\"group-details__action-button\")}\n      />\n    </div>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nexport default function styles(theme) {\n  return {\n    \"group-details\": {\n      display: \"flex\",\n    },\n    \"group-details__main-content\": {\n      flexGrow: 1,\n    },\n    \"group-details__back-link\": {\n      paddingLeft: 0,\n      [theme.breakpoints.up(\"sm\")]: {\n        display: \"none\",\n      },\n    },\n    \"group-details__action-button\": {},\n    \"group-details__title\": {\n      marginTop: 0,\n    },\n    \"group-details__description\": {\n      \"&&\": {\n        color: \"black\",\n        fontSize: \"0.8125rem\",\n      },\n    },\n    \"group-details__description--fallback\": {\n      \"&&\": {\n        color: theme.palette.text.primary,\n      },\n    },\n  };\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { createStyles } from \"@material-ui/core\";\nimport { useBem } from \"@solid/lit-prism-patterns\";\nimport { useRouter } from \"next/router\";\nimport GroupViewEmpty from \"./groupViewEmpty\";\nimport Spinner from \"../spinner\";\nimport styles from \"./styles\";\nimport ErrorMessage from \"../errorMessage\";\nimport GroupDetails from \"../groupDetails\";\nimport GroupAllContext from \"../../src/contexts/groupAllContext\";\nimport GroupContext from \"../../src/contexts/groupContext\";\n\nexport const TESTCAFE_ID_GROUP_VIEW = \"group-view\";\n\nconst useStyles = makeStyles((theme) => createStyles(styles(theme)));\n\nexport default function GroupView() {\n  const bem = useBem(useStyles());\n  const { data: groups, error: groupsError } = useContext(GroupAllContext);\n  const router = useRouter();\n  const selectedGroupUrl = router.query.iri;\n  const { data: group, error: groupError } = useContext(GroupContext);\n  const isLoading =\n    (!groups && !groupsError) || (selectedGroupUrl && !group && !groupError);\n  const error = groupsError || groupError;\n  return (\n    <div className={bem(\"group-view\")} data-testid={TESTCAFE_ID_GROUP_VIEW}>\n      {isLoading && <Spinner />}\n      {error && <ErrorMessage error={error} />}\n      {!isLoading && !error && group && <GroupDetails />}\n      {!isLoading && !error && !group && <GroupViewEmpty />}\n    </div>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nexport default function styles(theme) {\n  return {\n    \"group-view\": {\n      [theme.breakpoints.up(\"sm\")]: {\n        padding: theme.spacing(2.4),\n      },\n    },\n  };\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React from \"react\";\nimport { Container, PageHeader } from \"@inrupt/prism-react-components\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { createStyles } from \"@material-ui/core\";\nimport { useBem } from \"@solid/lit-prism-patterns\";\nimport { useRouter } from \"next/router\";\nimport styles from \"./styles\";\nimport { useRedirectIfLoggedOut } from \"../../../src/effects/auth\";\nimport GroupList from \"../../groupList\";\nimport GroupView from \"../../groupView\";\nimport { GroupAllProvider } from \"../../../src/contexts/groupAllContext\";\nimport { AddressBookProvider } from \"../../../src/contexts/addressBookContext\";\nimport { GroupProvider } from \"../../../src/contexts/groupContext\";\n\nconst useStyles = makeStyles((theme) => createStyles(styles(theme)));\n\nexport default function GroupsPage() {\n  useRedirectIfLoggedOut();\n  const bem = useBem(useStyles());\n  const router = useRouter();\n  const groupIsSelected = !!router.query.iri;\n\n  return (\n    <AddressBookProvider>\n      <GroupAllProvider>\n        <GroupProvider>\n          <PageHeader title=\"Groups\" />\n          <Container className={bem(\"groups-container\")}>\n            <div\n              className={bem(\"groups-container__content\", \"list\", {\n                focus: !groupIsSelected,\n              })}\n            >\n              <GroupList />\n            </div>\n            <div\n              className={bem(\"groups-container__content\", \"main\", {\n                focus: groupIsSelected,\n              })}\n            >\n              <GroupView />\n            </div>\n          </Container>\n        </GroupProvider>\n      </GroupAllProvider>\n    </AddressBookProvider>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nexport default function styles(theme) {\n  return {\n    \"groups-container\": {\n      flexGrow: 1,\n      margin: theme.spacing(1, 0),\n      [theme.breakpoints.up(\"sm\")]: {\n        display: \"flex\",\n        gap: \"1rem\",\n      },\n    },\n    \"groups-container__content\": {\n      display: \"none\",\n      [theme.breakpoints.up(\"sm\")]: {\n        border: \"solid 1px\",\n        borderColor: theme.palette.grey[\"200\"],\n        borderRadius: 8,\n        boxShadow: \"0 4px 12px 1px rgba(208,208,208,0.22)\",\n        display: \"block\",\n      },\n    },\n    \"groups-container__content--focus\": {\n      display: \"block\",\n    },\n    \"groups-container__content--list\": {\n      [theme.breakpoints.up(\"sm\")]: {\n        maxWidth: 360,\n        width: \"50%\",\n      },\n    },\n    \"groups-container__content--main\": {\n      [theme.breakpoints.up(\"sm\")]: {\n        flexGrow: 1,\n      },\n    },\n  };\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { useEffect } from \"react\";\nimport Router, { useRouter } from \"next/router\";\nimport { useSession } from \"@inrupt/solid-ui-react\";\n\nexport const SESSION_STATES = {\n  LOGGED_IN: \"LOGGED_IN\",\n  LOGGED_OUT: \"LOGGED_OUT\",\n};\n\nexport async function redirectBasedOnSessionState(\n  sessionIsLoggedIn,\n  sessionRequestInProgress,\n  redirectIfSessionState,\n  location\n) {\n  if (sessionRequestInProgress) {\n    return;\n  }\n\n  if (\n    sessionIsLoggedIn &&\n    redirectIfSessionState === SESSION_STATES.LOGGED_IN\n  ) {\n    await Router.push(location);\n  }\n\n  if (\n    !sessionIsLoggedIn &&\n    redirectIfSessionState === SESSION_STATES.LOGGED_OUT\n  ) {\n    await Router.push(location);\n  }\n}\n\nexport function useRedirectIfLoggedOut(location = \"/login\") {\n  const { session, sessionRequestInProgress } = useSession();\n\n  useEffect(() => {\n    if (session.info.isLoggedIn) return;\n    redirectBasedOnSessionState(\n      session.info.isLoggedIn,\n      sessionRequestInProgress,\n      SESSION_STATES.LOGGED_OUT,\n      location\n    );\n  });\n}\n\nexport function useRedirectIfLoggedIn(location = \"/\") {\n  const { session, sessionRequestInProgress } = useSession();\n  const router = useRouter();\n  useEffect(() => {\n    if (\n      (session.info.isLoggedIn && !router.asPath.includes(\"login\")) ||\n      sessionRequestInProgress\n    )\n      return;\n    redirectBasedOnSessionState(\n      session.info.isLoggedIn,\n      sessionRequestInProgress,\n      SESSION_STATES.LOGGED_IN,\n      location\n    );\n  }, [session, router, location, sessionRequestInProgress]);\n}\n"],"names":["AddressBookContext","createContext","AddressBookProvider","children","addressBook","useAddressBook","Provider","value","defaultProps","GroupAllContext","GroupAllProvider","groups","useContacts","GROUP_CONTACT","GroupContext","GroupProvider","useContext","data","sortedGroups","sort","a","b","getGroupName","group","groupUrl","fetch","useSession","useSWR","getGroup","errorRetryCount","useGroup","useRouter","query","iri","getGroupUrl","CreateGroupButton","props","addressBookError","error","mutateAddressBook","mutate","groupsError","mutateGroups","mutateGroup","router","useState","processing","setProcessing","onClick","event","preventDefault","groupName","length","saveGroup","updatedAddressBook","groupIndex","updatedGroups","getContactAllFromContactsIndex","Promise","all","push","encodeURIComponent","useStyles","makeStyles","theme","createStyles","color","palette","grey","margin","spacing","textAlign","styles","GroupListEmpty","bem","useBem","className","lightPrimaryColor","alignItems","display","marginBottom","breakpoints","up","padding","typography","h5","flexGrow","listStyle","text","primary","gap","borderLeft","textDecoration","background","borderColor","fontFamily","body1","fontWeight","fontWeightBold","fontSize","icons","iconColor","main","wordBreak","GroupList","selectedGroupUrl","loading","iconBefore","variant","map","index","selected","key","href","name","marginTop","GroupViewEmpty","ID_GROUP_DETAILS_TITLE","GroupDetailsModal","handleClose","open","groupError","groupIsValidating","isValidating","addressBookIsValidating","groupAllIsValidating","setGroupName","groupDescription","setGroupDescription","useEffect","getGroupDescription","onSubmit","renameGroup","vcard","updatedGroup","onClose","id","label","invalidMessage","onChange","target","required","maxLength","autoFocus","ID_GROUP_DELETE_MODAL_TITLE","GroupDeleteModal","mutateGroupAll","onDelete","deleteGroup","ACTION_EDIT","ACTION_DELETE","GroupDetailsActionButton","action","setAction","handleOpen","act","Divider","TESTCAFE_ID_GROUP_DETAILS_DESCRIPTION","paddingLeft","GroupDetails","GroupView","isLoading","border","borderRadius","boxShadow","maxWidth","width","GroupsPage","useRedirectIfLoggedOut","groupIsSelected","title","focus","SESSION_STATES","redirectBasedOnSessionState","sessionIsLoggedIn","sessionRequestInProgress","redirectIfSessionState","location","Router","session","info","isLoggedIn","useRedirectIfLoggedIn","asPath","includes"],"sourceRoot":""}