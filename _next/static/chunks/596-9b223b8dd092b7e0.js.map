{"version":3,"file":"static/chunks/596-9b223b8dd092b7e0.js","mappings":"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","sources":["webpack://_N_E/./__testUtils/mockApp.js","webpack://_N_E/./components/infoTooltip/index.jsx","webpack://_N_E/./components/infoTooltip/styles.js","webpack://_N_E/./src/contexts/consentRequestContext/index.jsx","webpack://_N_E/./components/consentRequestForm/styles.js","webpack://_N_E/./components/consentRequestForm/requestSection/index.jsx","webpack://_N_E/./components/consentRequestForm/dateInput/index.jsx","webpack://_N_E/./components/consentRequestForm/purposeCheckBox/index.jsx","webpack://_N_E/./components/consentRequestForm/purposeCheckBox/styles.js","webpack://_N_E/./components/consentRequestForm/index.jsx","webpack://_N_E/./components/pages/privacy/access/requests/index.jsx","webpack://_N_E/./components/pages/privacy/access/requests/styles.js","webpack://_N_E/./src/hooks/useContainer/index.js","webpack://_N_E/./src/models/consent/request/index.js","webpack://_N_E/./src/models/container/index.js"],"sourcesContent":["/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport {\n  addStringNoLocale,\n  addUrl,\n  createSolidDataset,\n  createThing,\n  setThing,\n} from \"@inrupt/solid-client\";\nimport { vcard, rdf, schema, foaf } from \"rdf-namespaces\";\nimport { chain } from \"../src/solidClientHelpers/utils\";\nimport { vcardExtras } from \"../src/addressBook\";\n\nexport const oidcPrefix = \"http://www.w3.org/ns/solid/oidc#\";\nexport const TOS_PREDICATE = `${oidcPrefix}tos_uri`;\nexport const POLICY_PREDICATE = `${oidcPrefix}policy_uri`;\nexport const CONTACTS_PREDICATE = `${oidcPrefix}contacts`;\nexport const LOGO_PREDICATE = `${oidcPrefix}logo_uri`;\n\nexport const APP_WEBID = \"https://mockappurl.com\";\nexport const APP_POLICY_URL = \"https://mockappurl.com/privacy-policy\";\nexport const APP_TOS_URL = \"https://mockappurl.com/terms-of-service\";\n\nconst contactThing = chain(\n  createThing({ url: \"https://mockappurl.com#contacts\" }),\n  (t) => addStringNoLocale(t, foaf.name, \"Example Contact\"),\n  (t) => addStringNoLocale(t, vcard.hasTelephone, \"555-5555\"),\n  (t) => addStringNoLocale(t, vcard.hasEmail, \"example@email.com\"),\n  (t) => addUrl(t, vcard.url, \"https://examplewebsite.com\")\n);\n\nconst dataset = setThing(createSolidDataset(), contactThing);\n\nexport function mockApp() {\n  return chain(\n    createThing({ url: APP_WEBID }),\n    (t) => addStringNoLocale(t, foaf.name, \"Mock App\"),\n    (t) => addUrl(t, vcardExtras(\"WebId\"), APP_WEBID),\n    (t) => addUrl(t, rdf.type, schema.SoftwareApplication), // just guessing what the type might be for apps\n    (t) => addUrl(t, TOS_PREDICATE, APP_TOS_URL),\n    (t) => addUrl(t, POLICY_PREDICATE, APP_POLICY_URL),\n    (t) => addUrl(t, CONTACTS_PREDICATE, \"https://mockappurl.com#contacts\")\n  );\n}\n\nexport function mockAppDataset() {\n  return setThing(dataset, mockApp());\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Button, createStyles, Tooltip } from \"@material-ui/core\";\nimport { useBem } from \"@solid/lit-prism-patterns\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/styles\";\n\nimport styles from \"./styles\";\n\nconst useStyles = makeStyles((theme) => createStyles(styles(theme)));\n\nconst TESTCAFE_ID_INFO_BUTTON_LABEL = \"info-button-label\";\n\nexport default function InfoTooltip({ tooltipText, label, className }) {\n  const classes = useStyles();\n  const bem = useBem(useStyles());\n  return (\n    <div className={clsx(classes.infoTooltipContainer, className)}>\n      {label && (\n        <span data-testid={TESTCAFE_ID_INFO_BUTTON_LABEL}>{label}</span>\n      )}\n      <Tooltip title={tooltipText} arrow>\n        <Button classes={{ root: classes.infoButton }}>\n          <i\n            className={clsx(bem(\"icon-info\"), bem(\"icon\"), classes.infoIcon)}\n            aria-label=\"Info\"\n          />\n        </Button>\n      </Tooltip>\n    </div>\n  );\n}\n\nInfoTooltip.propTypes = {\n  tooltipText: PropTypes.string.isRequired,\n  className: PropTypes.string,\n  label: PropTypes.string,\n};\n\nInfoTooltip.defaultProps = {\n  className: null,\n  label: null,\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { createStyles } from \"@solid/lit-prism-patterns\";\n\nexport default function styles(theme) {\n  return createStyles(theme, [\"icons\", \"button\"], {\n    infoTooltipContainer: {\n      display: \"flex\",\n    },\n    infoButton: {\n      padding: 0,\n      minWidth: \"max-content\",\n    },\n    infoIcon: {\n      margin: theme.spacing(0.4),\n      color: theme.palette.info.main,\n    },\n  });\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { createContext } from \"react\";\nimport T from \"prop-types\";\n\nconst defaultValues = {\n  consentRequest: {},\n  setConsentRequest: () => {},\n};\nconst ConsentRequestContext = createContext(defaultValues);\n\nfunction ConsentRequestProvider({\n  children,\n  consentRequest,\n  setConsentRequest,\n}) {\n  return (\n    <ConsentRequestContext.Provider\n      value={{ consentRequest, setConsentRequest }}\n    >\n      {children}\n    </ConsentRequestContext.Provider>\n  );\n}\n\nConsentRequestProvider.propTypes = {\n  children: T.node.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  consentRequest: T.object,\n  setConsentRequest: T.func,\n};\n\nConsentRequestProvider.defaultProps = defaultValues;\n\nexport { ConsentRequestProvider };\nexport default ConsentRequestContext;\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nconst lightPrimaryBackgroundColor = \"#F1EDFF\"; // TODO: THIS MUST BE MOVED TO PRISM\n\nexport default function styles(theme) {\n  return {\n    \"request-container\": {\n      flexGrow: 1,\n      flexDirection: \"column\",\n      margin: theme.spacing(1, 0),\n      alignItems: \"center\",\n      display: \"flex\",\n      gap: \"1rem\",\n    },\n    \"request-container__content\": {\n      border: \"solid 1px\",\n      borderColor: theme.palette.grey[\"200\"],\n      borderRadius: 8,\n      boxShadow: \"0 4px 12px 1px rgba(208,208,208,0.22)\",\n      display: \"block\",\n      padding: theme.spacing(2.4),\n      width: \"100%\",\n      maxWidth: 600,\n      minHeight: 50,\n    },\n\n    \"request-container__section\": {\n      padding: 0,\n      border: 0,\n      width: \"100%\",\n      borderRadius: 4,\n      display: \"flex\",\n      flexGrow: 1,\n      margin: 0,\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      marginBottom: \"1rem\",\n    },\n\n    \"request-container__section--box\": {\n      width: \"100%\",\n      border: \"solid 1px\",\n      borderColor: theme.palette.grey[\"200\"],\n      padding: theme.spacing(0.6, 1.2, 0.6, 1.2),\n    },\n\n    box__content: {\n      width: \"100%\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      fontWeight: \"normal\",\n      marginLeft: 0,\n      paddingLeft: \"1rem\",\n      boxSizing: \"border-box\",\n    },\n\n    \"request-container__section-header\": {\n      display: \"flex\",\n    },\n\n    \"request-container__button--small\": {\n      fontSize: \"0.8rem\",\n      textTransform: \"capitalize\",\n      padding: theme.spacing(0.6),\n      whiteSpace: \"nowrap\",\n    },\n\n    \"request-container__button--full-width\": {\n      display: \"flex\",\n      position: \"relative\",\n      flexGrow: 1,\n      margin: \"1rem\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      \"&:before\": {\n        display: \"block\",\n        content: '\"\"',\n        position: \"absolute\",\n        width: \"100%\",\n        height: 1,\n        bottom: \"3rem\",\n        backgroundColor: theme.palette.grey[\"300\"],\n      },\n    },\n\n    \"request-container__header-text\": {\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignItems: \"baseline\",\n      fontSize: \"1.4rem\",\n      margin: 0,\n      width: \"100%\",\n    },\n\n    header__content: {\n      flexGrow: 1,\n    },\n\n    \"request-container__header-text--small\": {\n      fontSize: \"0.8125rem\",\n      fontFamily: theme.typography.body2.fontFamily,\n    },\n\n    \"request-container__header-text--center\": {\n      textAlign: \"center\",\n    },\n\n    \"icon-small\": {\n      ...theme.icons.iconColor(theme.palette.info.main),\n      fontSize: \"1rem\",\n      marginRight: \"0.5rem\",\n    },\n\n    \"icon-small--dark\": {\n      ...theme.icons.iconColor(\"#0D6796\"),\n    },\n\n    \"icon-small--primary\": {\n      color: theme.palette.primary.main,\n      margin: 0,\n    },\n\n    \"icon-small--primary-disabled\": {\n      color: theme.palette.grey[700],\n      margin: 0,\n    },\n\n    \"icon-small--padded\": {\n      marginLeft: \"0.5rem\",\n    },\n\n    \"dropdown-caret\": {\n      border: \"none\",\n      background: \"transparent\",\n      cursor: \"pointer\",\n    },\n\n    \"full-width\": {\n      display: \"block\",\n      width: \"100%\",\n    },\n\n    \"full-width--padded-left\": {\n      paddingLeft: \"1.5rem\",\n    },\n\n    form__controls: {\n      display: \"flex\",\n      flexDirection: \"column-reverse\",\n      justifyContent: \"space-between\",\n      [theme.breakpoints.up(\"sm\")]: {\n        flexDirection: \"row\",\n      },\n    },\n\n    heading__uppercase: {\n      textTransform: \"uppercase\",\n      marginBottom: theme.spacing(1),\n    },\n\n    footer__links: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      marginTop: theme.spacing(2),\n    },\n\n    avatar: {\n      textAlign: \"center\",\n      width: \"30px\",\n      height: \"30px\",\n      padding: theme.spacing(1),\n      borderRadius: \"50%\",\n      marginRight: theme.spacing(0.4),\n      fontSize: theme.typography.h6.fontSize,\n      color: theme.palette.primary.main,\n      backgroundColor: lightPrimaryBackgroundColor,\n      display: \"inline-block\",\n      position: \"relative\",\n      left: 0,\n      top: 0,\n    },\n    \"agent-name\": {\n      display: \"flex\",\n      justifyContent: \"center\",\n      wordBreak: \"break-word\",\n    },\n    purpose: {\n      display: \"flex\",\n      justifyContent: \"flex-start\",\n      padding: \"1rem\",\n      wordBreak: \"break-word\",\n    },\n\n    \"date-container\": {\n      display: \"flex\",\n      padding: theme.spacing(0.7, 1.2),\n      border: `1px solid ${theme.palette.grey.A100}`,\n      borderRadius: 10,\n      height: \"2.5rem\",\n      marginBottom: \"1rem\",\n      marginTop: \"0.5rem\",\n      position: \"relative\",\n      maxWidth: 300,\n    },\n\n    \"date-input\": {\n      fontSize: \"1rem\",\n      width: \"100%\",\n      font: \"inherit\",\n      fontWeight: 500,\n      color: theme.palette.primary.text,\n    },\n\n    \"date-button\": {\n      padding: 0,\n    },\n\n    \"date-picker\": {\n      maxWidth: 320,\n      borderRadius: 4,\n      boxShadow: `0 4px 8px 0 ${theme.palette.grey[500]}`,\n      overflow: \"hidden\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      position: \"absolute\",\n      left: 0,\n      top: \"calc(100% + 0.5rem)\",\n      zIndex: 2,\n      backgroundColor: theme.palette.background.paper,\n    },\n\n    \"date-picker__container\": {\n      padding: \"1rem\",\n      overflow: \"hidden\",\n    },\n    \"list-item\": {\n      marginLeft: \"2rem\",\n      paddingBottom: 0,\n      paddingTop: \"1rem\",\n    },\n    purposeLabel: {\n      fontFamily: theme.typography.body2.fontFamily,\n      fontWeight: theme.typography.body2.fontWeight,\n    },\n    root: {\n      padding: \"0 0.5rem\",\n      \"&:hover\": {\n        backgroundColor: \"transparent\",\n      },\n    },\n    icon: {\n      borderRadius: 8,\n      width: \"1.75rem\",\n      height: \"1.75rem\",\n      boxShadow: `inset 0 0 0 1px ${theme.palette.text.primary}, inset 0 -1px 0 ${theme.palette.text.primary}`,\n      backgroundColor: theme.palette.background.paper,\n      backgroundImage:\n        \"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))\",\n      \"$root.Mui-focusVisible &\": {\n        outline: \"2px auto rgba(19,124,189,.6)\",\n        outlineOffset: 2,\n      },\n      \"input:hover ~ &\": {\n        backgroundColor: \"transparent\",\n      },\n      \"input:disabled ~ &\": {\n        boxShadow: \"none\",\n        background: \"rgba(206,217,224,.5)\",\n      },\n    },\n    checkedIcon: {\n      backgroundColor: theme.palette.primary.main,\n      boxShadow: \"none\",\n      backgroundImage:\n        \"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))\",\n      \"&:before\": {\n        display: \"block\",\n        width: \"1.75rem\",\n        height: \"1.75rem\",\n        backgroundImage:\n          \"url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath\" +\n          \" fill-rule='evenodd' clip-rule='evenodd' d='M12 5c-.28 0-.53.11-.71.29L7 9.59l-2.29-2.3a1.003 \" +\n          \"1.003 0 00-1.42 1.42l3 3c.18.18.43.29.71.29s.53-.11.71-.29l5-5A1.003 1.003 0 0012 5z' fill='%23fff'/%3E%3C/svg%3E\\\")\",\n        content: '\"\"',\n      },\n      \"input:hover ~ &\": {\n        backgroundColor: theme.palette.primary.main,\n      },\n    },\n    \"purposes-container\": {\n      padding: \"2rem 0\",\n      wordBreak: \"break-word\",\n    },\n  };\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useState, useEffect, useMemo } from \"react\";\nimport T from \"prop-types\";\nimport { Icons, Button } from \"@inrupt/prism-react-components\";\nimport { getSourceUrl } from \"@inrupt/solid-client\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport {\n  createStyles,\n  Typography,\n  FormGroup,\n  FormControl,\n  FormControlLabel,\n  Switch,\n  Tooltip,\n} from \"@material-ui/core\";\nimport { useBem } from \"@solid/lit-prism-patterns\";\nimport { getPolicyDetailFromAccess } from \"../../../src/accessControl/acp\";\nimport styles from \"../styles\";\nimport {\n  isContainerIri,\n  uniqueObjects,\n} from \"../../../src/solidClientHelpers/utils\";\nimport {\n  getAccessMode,\n  getRequestedResourcesIris,\n} from \"../../../src/models/consent/request\";\nimport { getResourceName } from \"../../../src/solidClientHelpers/resource\";\nimport Spinner from \"../../spinner\";\nimport useContainer from \"../../../src/hooks/useContainer\";\nimport { getContainerResourceUrlAll } from \"../../../src/models/container\";\n\nexport const TESTCAFE_ID_REQUEST_SELECT_ALL_BUTTON = \"request-select-all\";\nexport const TESTCAFE_ID_REQUEST_EXPAND_SECTION_BUTTON = \"expand-section\";\nexport const TESTCAFE_ID_CONSENT_ACCESS_SWITCH = \"consent-access-switch\";\n\nconst useStyles = makeStyles((theme) => createStyles(styles(theme)));\n\nexport const removeExistingValues = (prevAccesses, newAccesses) => {\n  const withDeletedAccesses = prevAccesses?.map((item, i) => {\n    const shouldBeRemoved = [];\n    newAccesses.forEach((a) => {\n      if (\n        JSON.stringify(item.accessModes) === JSON.stringify(a.accessModes) &&\n        item.index === a.index &&\n        item.resourceIri === a.resourceIri &&\n        a.checked === false\n      ) {\n        shouldBeRemoved.push(i);\n      }\n    });\n    if (!shouldBeRemoved.includes(i)) {\n      return item;\n    }\n    return null;\n  });\n  const previousAccess = withDeletedAccesses?.filter(\n    (item) => !!item && item.checked === true\n  );\n  const checkedAccesses = newAccesses.filter(({ checked }) => checked);\n  return uniqueObjects(\n    previousAccess\n      ? [...previousAccess, ...checkedAccesses]\n      : [...checkedAccesses]\n  );\n};\n\nconst ResourceSwitch = (props) => {\n  const { resourceIri, isChecked, handleOnChange, index } = props;\n  const bem = useBem(useStyles());\n\n  return (\n    <FormControlLabel\n      // eslint-disable-next-line react/no-array-index-key\n      key={index}\n      value={resourceIri}\n      // eslint-disable-next-line prettier/prettier\n      control={\n        // eslint-disable-next-line react/jsx-wrap-multilines\n        <Switch\n          checked={isChecked[index] ?? false}\n          onChange={() => handleOnChange(index)}\n          color=\"primary\"\n        />\n        // eslint-disable-next-line prettier/prettier\n      }\n      label={\n        // eslint-disable-next-line react/jsx-wrap-multilines\n        <Typography variant=\"body2\">\n          <Icons name=\"file\" className={bem(\"icon-small\", \"dark\")} />\n          <Tooltip title={resourceIri} arrow>\n            <span>{getResourceName(resourceIri)}</span>\n          </Tooltip>\n        </Typography>\n      }\n      labelPlacement=\"start\"\n      className={bem(\"box__content\")}\n    />\n  );\n};\n\nResourceSwitch.propTypes = {\n  resourceIri: T.string.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  isChecked: T.array.isRequired,\n  handleOnChange: T.func.isRequired,\n  index: T.number.isRequired,\n};\n\nconst renderSwitch = (\n  resourceIri,\n  index,\n  isChecked,\n  handleOnChange,\n  overrideCheck = false,\n  setSelectedAccess,\n  modesObject\n) => {\n  if (isContainerIri(resourceIri)) {\n    return (\n      <ContainerSwitch\n        key={index}\n        resourceIri={resourceIri}\n        isChecked={isChecked}\n        handleOnChange={() => handleOnChange(index)}\n        index={index}\n        overrideCheck={overrideCheck}\n        setSelectedAccess={setSelectedAccess}\n        modesObject={modesObject}\n      />\n    );\n  }\n  return (\n    <ResourceSwitch\n      key={index}\n      resourceIri={resourceIri}\n      isChecked={isChecked}\n      handleOnChange={() => handleOnChange(index)}\n      index={index}\n      setSelectedAccess={setSelectedAccess}\n      modesObject={modesObject}\n    />\n  );\n};\n\nconst RequestSubSection = (props) => {\n  const { resourceIri, overrideCheck, modesObject, setSelectedAccess } = props;\n  const { data: container, isValidating } = useContainer(resourceIri);\n  const [resourcesIris, setResourcesIris] = useState([]);\n  const [isChecked, setIsChecked] = useState(\n    new Array((resourcesIris || []).length).fill(false)\n  );\n\n  useEffect(() => {\n    if (\n      !resourceIri ||\n      (container &&\n        isContainerIri(resourceIri) &&\n        getSourceUrl(container.dataset) !== resourceIri)\n    )\n      return;\n    const urls = container && getContainerResourceUrlAll(container);\n    setResourcesIris(urls);\n  }, [container, resourceIri]);\n\n  useEffect(() => {\n    setIsChecked(new Array((resourcesIris || []).length).fill(false));\n  }, [resourcesIris]);\n\n  const toggleAllSwitches = () => {\n    const updatedAllCheckedState = isChecked.map(() => overrideCheck);\n    setIsChecked(updatedAllCheckedState);\n  };\n\n  useEffect(() => {\n    toggleAllSwitches();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [overrideCheck]);\n\n  useEffect(() => {\n    const accesses = isChecked.map((checked, index) => {\n      return {\n        checked,\n        accessModes: modesObject,\n        resourceIri,\n        index,\n      };\n    });\n    setSelectedAccess((prevState) => removeExistingValues(prevState, accesses));\n  }, [modesObject, isChecked, setSelectedAccess, resourceIri]);\n\n  const handleOnChange = (position) => {\n    const updatedCheckedState = isChecked.map((item, index) => {\n      return index === position ? !item : item;\n    });\n\n    setIsChecked(updatedCheckedState);\n  };\n\n  if (!resourcesIris || isValidating) return <Spinner />;\n\n  return (\n    <>\n      {resourcesIris?.map((containerResourceIri, index) => {\n        return renderSwitch(\n          containerResourceIri,\n          index,\n          isChecked,\n          handleOnChange,\n          overrideCheck,\n          setSelectedAccess,\n          modesObject,\n          resourcesIris.length\n        );\n      })}\n    </>\n  );\n};\n\nRequestSubSection.defaultProps = {\n  overrideCheck: false,\n};\n\nRequestSubSection.propTypes = {\n  resourceIri: T.string.isRequired,\n  overrideCheck: T.bool,\n  modesObject: T.shape({\n    write: T.bool,\n    read: T.bool,\n    append: T.bool,\n    control: T.bool,\n  }).isRequired,\n  setSelectedAccess: T.func.isRequired,\n};\n\nconst ContainerSwitch = (props) => {\n  const {\n    resourceIri,\n    isChecked,\n    handleOnChange,\n    index,\n    overrideCheck,\n    setSelectedAccess,\n    modesObject,\n    length,\n  } = props;\n  const bem = useBem(useStyles());\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [containerChecked, setContainerChecked] = useState(overrideCheck);\n  const { data: container, isValidating } = useContainer(resourceIri);\n  const [resourcesIris, setResourcesIris] = useState(null);\n\n  useEffect(() => {\n    if (\n      !resourceIri ||\n      (container &&\n        isContainerIri(resourceIri) &&\n        getSourceUrl(container.dataset) !== resourceIri)\n    )\n      return;\n    const urls = container && getContainerResourceUrlAll(container);\n    setResourcesIris(urls || []);\n  }, [container, resourceIri]);\n\n  useEffect(() => {\n    setContainerChecked(overrideCheck);\n  }, [overrideCheck, isChecked]);\n\n  if (!resourcesIris || isValidating) return <Spinner />;\n\n  return (\n    <>\n      <FormControlLabel\n        // eslint-disable-next-line react/no-array-index-key\n        key={index}\n        value={resourceIri}\n        // eslint-disable-next-line prettier/prettier\n        control={\n          // eslint-disable-next-line react/jsx-wrap-multilines\n          <Switch\n            checked={isChecked[index] ?? false}\n            onChange={() => {\n              handleOnChange(index);\n              setContainerChecked(!containerChecked);\n            }}\n            inputProps={{\n              \"data-testid\": TESTCAFE_ID_CONSENT_ACCESS_SWITCH,\n            }}\n            color=\"primary\"\n          />\n          // eslint-disable-next-line prettier/prettier\n        }\n        label={\n          // eslint-disable-next-line react/jsx-wrap-multilines\n          <Typography variant=\"body2\">\n            <Icons name=\"folder\" className={bem(\"icon-small\", \"dark\")} />\n            <Tooltip title={resourceIri} arrow>\n              <span>{getResourceName(resourceIri)}</span>\n            </Tooltip>\n            {(length > 0 || resourcesIris.length > 0) && (\n              <button\n                data-testid={TESTCAFE_ID_REQUEST_EXPAND_SECTION_BUTTON}\n                type=\"button\"\n                className={bem(\"dropdown-caret\")}\n                onClick={() => setIsExpanded(!isExpanded)}\n              >\n                <Icons\n                  name={isExpanded ? \"caret-up\" : \"caret-down\"}\n                  className={bem(\"icon-small--padded\")}\n                />\n              </button>\n            )}\n          </Typography>\n        }\n        labelPlacement=\"start\"\n        className={bem(\"box__content\")}\n      />\n      {isExpanded && (\n        <div className={bem(\"full-width\", \"padded-left\")}>\n          <RequestSubSection\n            resourceIri={resourceIri}\n            overrideCheck={isChecked[index]}\n            setSelectedAccess={setSelectedAccess}\n            modesObject={modesObject}\n          />\n        </div>\n      )}\n    </>\n  );\n};\n\nContainerSwitch.propTypes = {\n  resourceIri: T.string.isRequired,\n  length: T.number,\n  isChecked: T.arrayOf(T.bool).isRequired,\n  overrideCheck: T.bool,\n  handleOnChange: T.func.isRequired,\n  index: T.number.isRequired,\n  modesObject: T.shape({\n    write: T.bool,\n    read: T.bool,\n    append: T.bool,\n    control: T.bool,\n  }).isRequired,\n  setSelectedAccess: T.func.isRequired,\n};\n\nContainerSwitch.defaultProps = {\n  overrideCheck: false,\n  length: null,\n};\nexport default function RequestSection(props) {\n  const { agentName, sectionDetails, setSelectedAccess } = props;\n  const requestedResourcesIris =\n    sectionDetails && getRequestedResourcesIris(sectionDetails);\n  const accessMode = sectionDetails && getAccessMode(sectionDetails);\n  const bem = useBem(useStyles());\n  const [isChecked, setIsChecked] = useState([]);\n\n  const [allTogglesSelected, setAllTogglesSelected] = useState(false);\n\n  const modesObject = useMemo(() => {\n    if (!accessMode) return {};\n    return {\n      read: accessMode.some((el) => el.includes(\"Read\")),\n      write: accessMode.some((el) => el.includes(\"Write\")),\n      append: accessMode.some((el) => el.includes(\"Append\")),\n      control: accessMode.some((el) => el.includes(\"Control\")),\n    };\n  }, [accessMode]);\n  useEffect(() => {\n    if (!requestedResourcesIris || !requestedResourcesIris.length) return;\n    setIsChecked(new Array(requestedResourcesIris.length).fill(false));\n  }, [requestedResourcesIris]);\n\n  useEffect(() => {\n    if (!isChecked) return;\n    setAllTogglesSelected(\n      isChecked.filter((toggle) => toggle === true).length === isChecked.length\n    );\n  }, [isChecked]);\n\n  useEffect(() => {\n    if (!isChecked) return;\n    const accesses = isChecked.map((checked, index) => {\n      return {\n        checked,\n        accessModes: modesObject,\n        resourceIri: requestedResourcesIris[index],\n        index,\n      };\n    });\n    setSelectedAccess((prevState) => removeExistingValues(prevState, accesses));\n  }, [requestedResourcesIris, modesObject, isChecked, setSelectedAccess]);\n\n  const toggleAllSwitches = () => {\n    const updatedAllCheckedState = isChecked.map(() => !allTogglesSelected);\n    setIsChecked(updatedAllCheckedState);\n  };\n\n  const handleOnChange = (position) => {\n    const updatedCheckedState = isChecked.map((item, index) =>\n      index === position ? !item : item\n    );\n    setIsChecked(updatedCheckedState);\n  };\n  if (\n    !sectionDetails ||\n    !requestedResourcesIris ||\n    isChecked === null ||\n    isChecked === undefined\n  )\n    return <Spinner />;\n\n  return (\n    <>\n      <FormControl\n        component=\"fieldset\"\n        className={bem(\"request-container__section\")}\n      >\n        <legend className={bem(\"request-container__header-text\", \"small\")}>\n          <Icons\n            name={getPolicyDetailFromAccess(modesObject, \"iconName\")}\n            className={bem(\"icon-small\")}\n          />\n          <span className={bem(\"header__content\")}>\n            {`${agentName} ${getPolicyDetailFromAccess(\n              modesObject,\n              \"titleConsent\"\n            )}`}\n          </span>\n          <Button\n            data-testid={TESTCAFE_ID_REQUEST_SELECT_ALL_BUTTON}\n            variant=\"secondary\"\n            type=\"button\"\n            onClick={toggleAllSwitches}\n            className={bem(\"request-container__button\", \"small\")}\n          >\n            <Typography component=\"span\" variant=\"caption\">\n              {allTogglesSelected ? \"Deny all\" : \"Select all\"}\n            </Typography>\n          </Button>\n        </legend>\n        <FormGroup\n          aria-label=\"position\"\n          row\n          className={bem(\"request-container__section\", \"box\")}\n        >\n          {requestedResourcesIris &&\n            requestedResourcesIris.map((resourceIri, index) => {\n              return renderSwitch(\n                resourceIri,\n                index,\n                isChecked,\n                handleOnChange,\n                false,\n                setSelectedAccess,\n                modesObject\n              );\n            })}\n        </FormGroup>\n      </FormControl>\n    </>\n  );\n}\n\nRequestSection.propTypes = {\n  agentName: T.string.isRequired,\n  setSelectedAccess: T.func.isRequired,\n  // eslint-disable-next-line react/forbid-prop-types\n  sectionDetails: T.object.isRequired,\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/* eslint-disable react/jsx-one-expression-per-line */\n\nimport React, { useContext, useEffect, useRef } from \"react\";\nimport { Button, Icons, useOutsideClick } from \"@inrupt/prism-react-components\";\nimport { format } from \"date-fns\";\nimport T from \"prop-types\";\nimport { DatePicker } from \"@material-ui/pickers\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { createStyles, IconButton, InputBase } from \"@material-ui/core\";\nimport { useBem } from \"@solid/lit-prism-patterns\";\nimport ConsentRequestContext from \"../../../src/contexts/consentRequestContext\";\nimport { getExpiryDate } from \"../../../src/models/consent/request\";\nimport styles from \"../styles\";\n\nexport const TESTCAFE_ID_DATE_INPUT = \"date-input-field\";\nexport const TESTCAFE_ID_FOREVER_BUTTON = \"forever-button\";\nexport const TESTCAFE_ID_DATE_PICKER_CALENDAR_BUTTON =\n  \"date-picker-calendar-button\";\n\nconst useStyles = makeStyles((theme) => createStyles(styles(theme)));\n\nexport default function DateInput(props) {\n  const {\n    selectedDate,\n    setSelectedDate,\n    datepickerOpen,\n    setDatepickerOpen,\n    handleDateChange,\n    setDateForever,\n  } = props;\n  const classes = useStyles();\n  const bem = useBem(classes);\n  const { consentRequest } = useContext(ConsentRequestContext);\n  const expirationDate = getExpiryDate(consentRequest);\n  // FIXME: we will later fetch the expiry date from the consent details\n  const clickRef = useRef();\n\n  useOutsideClick(clickRef, () => setDatepickerOpen(false));\n\n  useEffect(() => {\n    if (expirationDate) {\n      setSelectedDate(expirationDate);\n    }\n  }, [expirationDate, setSelectedDate]);\n\n  return (\n    <div ref={clickRef} className={bem(\"date-container\")}>\n      <InputBase\n        classes={{ root: bem(\"date-input\") }}\n        placeholder=\"Consent expiry date\"\n        value={selectedDate ? format(selectedDate, \"MMMM' 'd', 'Y\") : \"Forever\"}\n        inputProps={{\n          \"data-testid\": TESTCAFE_ID_DATE_INPUT,\n          \"aria-label\": \"Consent expiry date\",\n          readOnly: \"readonly\",\n        }}\n      />\n      <IconButton\n        data-testid={TESTCAFE_ID_DATE_PICKER_CALENDAR_BUTTON}\n        classes={{ root: bem(\"date-button\") }}\n        type=\"button\"\n        // temporarily disabling until functionality to change date is available\n        disabled\n        aria-label=\"Set expiry date\"\n        onClick={() => setDatepickerOpen(!datepickerOpen)}\n      >\n        <Icons\n          name=\"calendar\"\n          // temporarily disabling until functionality to change date is available\n          className={bem(\"icon-small--primary-disabled\")}\n        />\n      </IconButton>\n      {datepickerOpen && (\n        <div className={bem(\"date-picker\")}>\n          <DatePicker\n            disableToolbar\n            orientation=\"portrait\"\n            variant=\"static\"\n            disablePast\n            // temporarily disabling until functionality to change date is available\n            disabled\n            format=\"MM/dd/yyyy\"\n            margin=\"normal\"\n            value={selectedDate}\n            onChange={handleDateChange}\n          />\n          <Button\n            type=\"button\"\n            variant=\"small\"\n            onClick={() => setDateForever()}\n            className={bem(\"request-container__button\", \"full-width\")}\n            data-testid={TESTCAFE_ID_FOREVER_BUTTON}\n          >\n            Forever\n          </Button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nDateInput.defaultProps = {\n  selectedDate: null,\n};\n\nDateInput.propTypes = {\n  selectedDate: T.instanceOf(Date),\n  setSelectedDate: T.func.isRequired,\n  datepickerOpen: T.bool.isRequired,\n  setDatepickerOpen: T.func.isRequired,\n  handleDateChange: T.func.isRequired,\n  setDateForever: T.func.isRequired,\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useState } from \"react\";\nimport T from \"prop-types\";\nimport clsx from \"clsx\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { createStyles, Checkbox } from \"@material-ui/core\";\nimport styles from \"./styles\";\n\nconst useStyles = makeStyles((theme) => createStyles(styles(theme)));\n\nexport const TESTCAFE_ID_PURPOSE_CHECKBOX_INPUT = \"purpose-checkbox-input\";\n\nexport default function PurposeCheckBox({\n  handleSelectPurpose,\n  url,\n  description,\n  disabled,\n}) {\n  const [checked, setChecked] = useState(false);\n\n  const classes = useStyles();\n  const handleCheck = (e) => {\n    handleSelectPurpose(e);\n    setChecked(e.target.checked);\n  };\n  return (\n    <Checkbox\n      className={classes.root}\n      // temporarily disabling until we have functionality for this\n      disabled={disabled}\n      disableRipple\n      checked={checked}\n      checkedIcon={\n        // eslint-disable-next-line react/jsx-wrap-multilines\n        <span className={clsx(classes.icon, classes.checkedIcon)} />\n      }\n      icon={<span className={classes.icon} />}\n      value={url}\n      name={description}\n      color=\"primary\"\n      onChange={handleCheck}\n      inputProps={{\n        \"data-testid\": TESTCAFE_ID_PURPOSE_CHECKBOX_INPUT,\n        checked,\n      }}\n    />\n  );\n}\n\nPurposeCheckBox.defaultProps = {\n  disabled: false,\n};\n\nPurposeCheckBox.propTypes = {\n  handleSelectPurpose: T.func.isRequired,\n  url: T.string.isRequired,\n  description: T.string.isRequired,\n  disabled: T.bool,\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nexport default function styles(theme) {\n  return {\n    root: {\n      padding: \"0 0.5rem\",\n      \"&:hover\": {\n        backgroundColor: \"transparent\",\n      },\n    },\n    icon: {\n      borderRadius: 8,\n      width: \"1.75rem\",\n      height: \"1.75rem\",\n      boxShadow: `inset 0 0 0 1px ${theme.palette.text.primary}, inset 0 -1px 0 ${theme.palette.text.primary}`,\n      backgroundColor: theme.palette.background.paper,\n      backgroundImage:\n        \"linear-gradient(180deg,hsla(0,0%,100%,.8),hsla(0,0%,100%,0))\",\n      \"$root.Mui-focusVisible &\": {\n        outline: \"2px auto rgba(19,124,189,.6)\",\n        outlineOffset: 2,\n      },\n      \"input:hover ~ &\": {\n        backgroundColor: \"transparent\",\n      },\n      \"input:disabled ~ &\": {\n        boxShadow: \"none\",\n        background: \"rgba(206,217,224,.5)\",\n      },\n    },\n    checkedIcon: {\n      backgroundColor: theme.palette.primary.main,\n      boxShadow: \"none\",\n      backgroundImage:\n        \"linear-gradient(180deg,hsla(0,0%,100%,.1),hsla(0,0%,100%,0))\",\n      \"&:before\": {\n        display: \"block\",\n        width: \"1.75rem\",\n        height: \"1.75rem\",\n        backgroundImage:\n          \"url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Cpath\" +\n          \" fill-rule='evenodd' clip-rule='evenodd' d='M12 5c-.28 0-.53.11-.71.29L7 9.59l-2.29-2.3a1.003 \" +\n          \"1.003 0 00-1.42 1.42l3 3c.18.18.43.29.71.29s.53-.11.71-.29l5-5A1.003 1.003 0 0012 5z' fill='%23fff'/%3E%3C/svg%3E\\\")\",\n        content: '\"\"',\n      },\n      \"input:hover ~ &\": {\n        backgroundColor: theme.palette.primary.main,\n      },\n    },\n    \"purposes-container\": {\n      padding: \"2rem 0\",\n    },\n  };\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n/* eslint-disable react/jsx-one-expression-per-line */\n\nimport React, { useContext, useEffect, useState } from \"react\";\nimport T from \"prop-types\";\nimport {\n  approveAccessRequest,\n  denyAccessRequest,\n} from \"@inrupt/solid-client-access-grants\";\nimport { Button } from \"@inrupt/prism-react-components\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { useRouter } from \"next/router\";\nimport {\n  createStyles,\n  ListItem,\n  Typography,\n  List,\n  FormControlLabel,\n} from \"@material-ui/core\";\nimport { useSession } from \"@inrupt/solid-ui-react\";\nimport { useBem } from \"@solid/lit-prism-patterns\";\nimport ConsentRequestContext from \"../../src/contexts/consentRequestContext\";\nimport InfoTooltip from \"../infoTooltip\";\nimport RequestSection from \"./requestSection\";\nimport DateInput from \"./dateInput\";\nimport styles from \"./styles\";\nimport {\n  getExpiryDate,\n  getPurposeUrls,\n  getRequestedAccesses,\n  getRequestorWebId,\n  getVcId,\n} from \"../../src/models/consent/request\";\nimport ConfirmationDialogContext from \"../../src/contexts/confirmationDialogContext\";\nimport ConfirmationDialog from \"../confirmationDialog\";\nimport PurposeCheckbox from \"./purposeCheckBox\";\n\nconst useStyles = makeStyles((theme) => createStyles(styles(theme)));\n\nexport const NO_ACCESS_DIALOG_TITLE = \"Your haven't selected any access\";\nexport const DENY_ACCESS_DIALOG_TITLE = \"Deny all access?\";\nexport const CONSENT_REQUEST_NO_ACCESS_DIALOG =\n  \"consent-request-no-access-dialog\";\nexport const TESTCAFE_ID_CONSENT_REQUEST_SUBMIT_BUTTON =\n  \"consent-request-submit-button\";\nexport const TESTCAFE_ID_CONSENT_REQUEST_DENY_BUTTON =\n  \"consent-request-deny-button\";\nexport const CONFIRM_TEXT = \"Continue with no access\";\nexport const DENY_TEXT = \"Deny All Access\";\nexport const NO_PURPOSE_TITLE = \"Select a purpose\";\n\nexport default function ConsentRequestForm({ agentDetails, agentWebId }) {\n  const classes = useStyles();\n  const bem = useBem(classes);\n  const router = useRouter();\n  const { session } = useSession();\n  const { redirectUrl } = router.query;\n  const { consentRequest } = useContext(ConsentRequestContext);\n  const [selectedAccess, setSelectedAccess] = useState([]);\n  const purposes = getPurposeUrls(consentRequest);\n  const [selectedPurposes, setSelectedPurposes] = useState([]);\n  const selectedResources = selectedAccess.map(\n    ({ resourceIri }) => resourceIri\n  );\n\n  const { agentName } = agentDetails || null;\n\n  const {\n    confirmed,\n    open,\n    setContent,\n    setOpen,\n    setTitle,\n    closeDialog,\n    setConfirmText,\n    setOmitCancelButton,\n  } = useContext(ConfirmationDialogContext);\n  const [confirmationSetup, setConfirmationSetup] = useState(false);\n\n  const requestedAccesses = getRequestedAccesses(consentRequest);\n  const expirationDate = getExpiryDate(consentRequest);\n  const [selectedDate, setSelectedDate] = useState(new Date());\n\n  const [datepickerOpen, setDatepickerOpen] = useState(false);\n\n  const DIALOG_CONTENT = `${\n    agentName || agentWebId\n  } will not have access to anything in your Pod.`;\n  const NO_PURPOSE_CONTENT = `At least one purpose needs to be selected to approve access for ${agentName}`;\n  const requestor = getRequestorWebId(consentRequest);\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (selectedAccess.length && selectedPurposes.length) {\n      const signedVc = await approveAccessRequest(\n        session.info.webId,\n        consentRequest,\n        {\n          requestor,\n          access: selectedAccess.accessModes,\n          resources: selectedResources,\n        },\n        {\n          fetch: session.fetch,\n        }\n      );\n      if (signedVc) {\n        await router.push(`${redirectUrl}?signedVcUrl=${getVcId(signedVc)}`);\n      }\n    }\n    /* istanbul ignore next */\n    if (!selectedPurposes.length) {\n      setConfirmationSetup(true);\n      setOpen(CONSENT_REQUEST_NO_ACCESS_DIALOG);\n      setTitle(NO_PURPOSE_TITLE);\n      setConfirmText(\"Ok\");\n      setOmitCancelButton(true);\n      setContent(NO_PURPOSE_CONTENT);\n    } else if (!selectedAccess.length) {\n      setConfirmationSetup(true);\n      setOmitCancelButton(false);\n      setOpen(CONSENT_REQUEST_NO_ACCESS_DIALOG);\n      setTitle(NO_ACCESS_DIALOG_TITLE);\n      setConfirmText(CONFIRM_TEXT);\n      setContent(DIALOG_CONTENT);\n    }\n  };\n\n  const handleDenyAccess = () => {\n    setConfirmationSetup(true);\n    setOmitCancelButton(false);\n    setTitle(DENY_ACCESS_DIALOG_TITLE);\n    setConfirmText(DENY_TEXT);\n    setContent(DIALOG_CONTENT);\n    setOpen(CONSENT_REQUEST_NO_ACCESS_DIALOG);\n  };\n\n  useEffect(() => {\n    const handleDenyAccessRequest = async () => {\n      const signedVc = await denyAccessRequest(\n        session.info.webId,\n        consentRequest\n      );\n      if (signedVc) {\n        await router.push(`${redirectUrl}?signedVcUrl=${getVcId(signedVc)}`);\n      }\n    };\n    if (\n      confirmationSetup &&\n      confirmed === null &&\n      open === CONSENT_REQUEST_NO_ACCESS_DIALOG\n    )\n      return;\n\n    if (\n      confirmationSetup &&\n      confirmed &&\n      open === CONSENT_REQUEST_NO_ACCESS_DIALOG\n    ) {\n      handleDenyAccessRequest();\n      closeDialog();\n    }\n\n    if (confirmed !== null) {\n      closeDialog();\n      setConfirmationSetup(false);\n    }\n  }, [\n    confirmationSetup,\n    confirmed,\n    closeDialog,\n    open,\n    consentRequest,\n    selectedAccess,\n    selectedPurposes,\n    selectedResources,\n    redirectUrl,\n    session,\n    router,\n  ]);\n\n  const handleDateChange = (date) => {\n    setSelectedDate(date);\n    setDatepickerOpen(false);\n  };\n\n  const setDateForever = () => {\n    setSelectedDate(null);\n    setDatepickerOpen(false);\n  };\n\n  useEffect(() => {\n    if (expirationDate) {\n      setSelectedDate(new Date(expirationDate));\n    }\n  }, [expirationDate]);\n\n  useEffect(() => {\n    if (!purposes) return;\n    if (Array.isArray(purposes) && purposes.length === 1) {\n      setSelectedPurposes(purposes[0]);\n    }\n    if (!Array.isArray(purposes)) {\n      setSelectedPurposes(purposes);\n    }\n  }, [purposes]);\n\n  const handleSelectPurpose = (e) => {\n    if (e.target.checked) {\n      setSelectedPurposes((prevState) => [...prevState, e.target.value]);\n    } else {\n      setSelectedPurposes((prevState) =>\n        prevState.filter((value) => value !== e.target.value)\n      );\n    }\n  };\n\n  return (\n    <>\n      <form\n        className={bem(\"request-container__content\", \"main\")}\n        onSubmit={handleSubmit}\n      >\n        <Typography component=\"h2\" align=\"center\" variant=\"h1\">\n          <span className={bem(\"agent-name\")}>\n            Allow {agentName || agentWebId} access?\n          </span>\n        </Typography>\n        {Array.isArray(purposes) && purposes.length === 1 ? (\n          <span className={bem(\"purpose\")}>\n            {purposes[0].description || purposes[0]}\n            <InfoTooltip\n              tooltipText={purposes[0].url || purposes[0] || \"Purpose\"}\n            />\n          </span>\n        ) : (\n          <div className={bem(\"purposes-container\")}>\n            {Array.isArray(purposes) ? (\n              <>\n                Select the purposes you wish to allow:\n                <List>\n                  {purposes?.map((url) => (\n                    <ListItem key={url} className={bem(\"list-item\")}>\n                      <FormControlLabel\n                        classes={{ label: classes.purposeLabel }}\n                        label={url}\n                        control={\n                          // eslint-disable-next-line react/jsx-wrap-multilines\n                          <PurposeCheckbox\n                            classes={classes}\n                            url={url}\n                            description={url}\n                            handleSelectPurpose={handleSelectPurpose}\n                          />\n                        }\n                      />\n                    </ListItem>\n                  ))}\n                </List>\n              </>\n            ) : (\n              purposes\n            )}\n          </div>\n        )}\n        <span className={bem(\"request-container__header-text\", \"small\")}>\n          {`${agentName || agentWebId} will have access until`}\n        </span>\n        <DateInput\n          // selectedDate={selectedDate}\n          // setting date to forever for now until we add functionality to change this\n          selectedDate={null}\n          setSelectedDate={setSelectedDate}\n          datepickerOpen={datepickerOpen}\n          setDatepickerOpen={setDatepickerOpen}\n          handleDateChange={handleDateChange}\n          setDateForever={setDateForever}\n        />\n        {/* FIXME: place this in a loop when we know the data structure */}\n        {requestedAccesses &&\n          requestedAccesses.map((consent, index) => {\n            return (\n              <RequestSection\n                // eslint-disable-next-line react/no-array-index-key\n                key={`consent-request-section-${index}`}\n                agentName={agentName || agentWebId}\n                sectionDetails={consent}\n                selectedAccess={selectedAccess}\n                setSelectedAccess={setSelectedAccess}\n              />\n            );\n          })}\n        <div className={bem(\"form__controls\")}>\n          <Button\n            data-testid={TESTCAFE_ID_CONSENT_REQUEST_DENY_BUTTON}\n            variant=\"secondary\"\n            type=\"button\"\n            className={bem(\"request-container__button\")}\n            onClick={handleDenyAccess}\n          >\n            Deny all access\n          </Button>\n          <Button\n            data-testid={TESTCAFE_ID_CONSENT_REQUEST_SUBMIT_BUTTON}\n            type=\"submit\"\n            className={bem(\"request-container__button\")}\n          >\n            Confirm Access\n          </Button>\n        </div>\n      </form>\n      <ConfirmationDialog />\n    </>\n  );\n}\n\nConsentRequestForm.propTypes = {\n  agentDetails: T.shape({\n    agentName: T.string,\n    agentUrl: T.string,\n    agentTOS: T.string,\n    agentPolicy: T.string,\n  }),\n  agentWebId: T.string.isRequired,\n};\n\nConsentRequestForm.defaultProps = {\n  agentDetails: {},\n};\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport React, { useState, useEffect } from \"react\";\nimport { useSession } from \"@inrupt/solid-ui-react\";\nimport { useRouter } from \"next/router\";\nimport { Container, Icons } from \"@inrupt/prism-react-components\";\nimport { getStringNoLocale, getThing, getUrl } from \"@inrupt/solid-client\";\nimport { foaf, vcard } from \"rdf-namespaces\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { createStyles, Typography, Link } from \"@material-ui/core\";\nimport { useBem } from \"@solid/lit-prism-patterns\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport { useRedirectIfLoggedOut } from \"../../../../../src/effects/auth\";\nimport { ConsentRequestProvider } from \"../../../../../src/contexts/consentRequestContext\";\nimport styles from \"./styles\";\nimport ConsentRequestForm from \"../../../../consentRequestForm\";\nimport {\n  CONTACTS_PREDICATE,\n  POLICY_PREDICATE,\n  TOS_PREDICATE,\n} from \"../../../../../__testUtils/mockApp\";\nimport { getRequestorWebId } from \"../../../../../src/models/consent/request\";\nimport { getProfileResource } from \"../../../../../src/solidClientHelpers/resource\";\nimport Spinner from \"../../../../spinner\";\n\nconst useStyles = makeStyles((theme) => createStyles(styles(theme)));\n\nexport default function ConsentShow() {\n  useRedirectIfLoggedOut();\n  const { session } = useSession();\n  const { fetch } = session;\n  const router = useRouter();\n  const { requestVc } = router.query;\n  const bem = useBem(useStyles());\n  const [consentRequest, setConsentRequest] = useState(null);\n  const agentWebId = getRequestorWebId(consentRequest);\n  const [agentDetails, setAgentDetails] = useState({});\n  const { agentName, agentUrl, agentPolicy, agentTOS } = agentDetails || null;\n\n  useEffect(() => {\n    if (!requestVc) return;\n    const req = JSON.parse(atob(requestVc));\n    setConsentRequest(req);\n  }, [requestVc, fetch]);\n\n  useEffect(() => {\n    if (!consentRequest) return;\n    (async () => {\n      const { dataset: profileDataset } = await getProfileResource(\n        agentWebId,\n        fetch\n      );\n      const agentProfile =\n        profileDataset && getThing(profileDataset, agentWebId);\n      const agentContactsUrl =\n        agentProfile && getUrl(agentProfile, CONTACTS_PREDICATE);\n      const agentContacts = agentContactsUrl\n        ? getThing(profileDataset, agentContactsUrl)\n        : null;\n      setAgentDetails({\n        agentName: agentProfile && getStringNoLocale(agentProfile, foaf.name),\n        agentUrl: agentContacts ? getUrl(agentContacts, vcard.url) : null,\n        agentTOS: agentProfile && getUrl(agentProfile, TOS_PREDICATE),\n        agentPolicy: agentProfile && getUrl(agentProfile, POLICY_PREDICATE),\n      });\n    })();\n  }, [agentWebId, fetch, consentRequest]);\n\n  if (!consentRequest) return <Spinner />;\n\n  return (\n    <ConsentRequestProvider\n      consentRequest={consentRequest}\n      setConsentRequest={setConsentRequest}\n    >\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\n        <Container className={bem(\"request-container\")}>\n          <ConsentRequestForm\n            agentDetails={agentDetails}\n            agentWebId={agentWebId}\n          />\n          <div className={bem(\"request-container__content\")}>\n            <Typography\n              component=\"h3\"\n              align=\"center\"\n              variant=\"h3\"\n              className={bem(\"heading__uppercase\")}\n            >\n              About this application\n            </Typography>\n            <div className={bem(\"app-name\")}>\n              <Icons className={bem(\"avatar\")} name=\"project-diagram\" />\n              <Typography align=\"center\" variant=\"body2\">\n                <span className={bem(\"footer__link\")}>\n                  <Link href={agentWebId} variant=\"body2\">\n                    {agentName || agentWebId}\n                  </Link>\n                </span>\n              </Typography>\n            </div>\n            <Typography className={bem(\"footer__links\")}>\n              {agentUrl && (\n                <span className={bem(\"footer__link\")}>\n                  <Link href={agentUrl} variant=\"body2\">\n                    <Icons\n                      name=\"globe\"\n                      className={bem(\"icon-small\", \"primary\")}\n                    />\n                    Website\n                  </Link>\n                </span>\n              )}\n              {agentPolicy && (\n                <span className={bem(\"footer__link\")}>\n                  <Link href={agentPolicy} variant=\"body2\">\n                    <Icons\n                      name=\"webid\"\n                      className={bem(\"icon-small\", \"primary\")}\n                    />\n                    Privacy Policy\n                  </Link>\n                </span>\n              )}\n              {agentTOS && (\n                <span className={bem(\"footer__link\")}>\n                  <Link href={agentTOS} variant=\"body2\">\n                    <Icons\n                      name=\"doc\"\n                      className={bem(\"icon-small\", \"primary\")}\n                    />\n                    Terms of Service\n                  </Link>\n                </span>\n              )}\n            </Typography>\n          </div>\n        </Container>\n      </MuiPickersUtilsProvider>\n    </ConsentRequestProvider>\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nconst lightPrimaryBackgroundColor = \"#F1EDFF\"; // TODO: THIS MUST BE MOVED TO PRISM\n\nexport default function styles(theme) {\n  return {\n    \"request-container\": {\n      flexGrow: 1,\n      flexDirection: \"column\",\n      margin: theme.spacing(1, 0),\n      alignItems: \"center\",\n      display: \"flex\",\n      gap: \"1rem\",\n    },\n    \"request-container__content\": {\n      border: \"solid 1px\",\n      borderColor: theme.palette.grey[\"200\"],\n      borderRadius: 8,\n      boxShadow: \"0 4px 12px 1px rgba(208,208,208,0.22)\",\n      display: \"block\",\n      padding: theme.spacing(2.4),\n      width: \"100%\",\n      maxWidth: 600,\n      minHeight: 50,\n    },\n\n    \"request-container__section\": {\n      padding: 0,\n      border: 0,\n      width: \"100%\",\n      borderRadius: 4,\n      display: \"flex\",\n      flexGrow: 1,\n      margin: 0,\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      marginBottom: \"1rem\",\n    },\n\n    \"request-container__section--box\": {\n      width: \"100%\",\n      border: \"solid 1px\",\n      borderColor: theme.palette.grey[\"200\"],\n      padding: theme.spacing(0.6, 1.2, 0.6, 1.2),\n    },\n\n    box__content: {\n      width: \"100%\",\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      fontWeight: \"normal\",\n    },\n\n    \"request-container__section-header\": {\n      display: \"flex\",\n    },\n\n    \"request-container__button--small\": {\n      fontSize: \"0.8rem\",\n      textTransform: \"capitalize\",\n      padding: theme.spacing(0.6),\n    },\n\n    \"request-container__header-text\": {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"space-between\",\n      alignItems: \"baseline\",\n      fontSize: \"1.4rem\",\n      margin: 0,\n      width: \"100%\",\n    },\n\n    \"request-container__header-text--small\": {\n      fontSize: \"0.8125rem\",\n      fontFamily: theme.typography.body2.fontFamily,\n    },\n\n    \"request-container__header-text--center\": {\n      textAlign: \"center\",\n    },\n\n    \"icon-small\": {\n      ...theme.icons.iconColor(theme.palette.info.main),\n      fontSize: \"1rem\",\n      marginRight: \"0.5rem\",\n    },\n\n    \"icon-small--primary\": {\n      color: theme.palette.primary.main,\n    },\n\n    form__controls: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n    },\n\n    heading__uppercase: {\n      textTransform: \"uppercase\",\n      marginBottom: theme.spacing(1),\n    },\n\n    footer__links: {\n      display: \"flex\",\n      justifyContent: \"space-between\",\n      marginTop: theme.spacing(2),\n      flexDirection: \"column\",\n      alignContent: \"center\",\n      alignItems: \"flex-start\",\n      margin: \"1rem auto\",\n      maxWidth: \"max-content\",\n      [theme.breakpoints.up(\"sm\")]: {\n        flexDirection: \"row\",\n        alignItems: \"baseline\",\n        margin: \"1rem auto\",\n        maxWidth: \"100%\",\n      },\n    },\n\n    footer__link: {\n      display: \"block\",\n      height: \"2rem\",\n    },\n\n    avatar: {\n      textAlign: \"center\",\n      width: \"30px\",\n      height: \"30px\",\n      padding: theme.spacing(1),\n      borderRadius: \"50%\",\n      marginRight: theme.spacing(0.4),\n      fontSize: theme.typography.h6.fontSize,\n      color: theme.palette.primary.main,\n      backgroundColor: lightPrimaryBackgroundColor,\n      display: \"inline-block\",\n      position: \"relative\",\n      left: 0,\n      top: 0,\n    },\n    \"app-name\": {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"baseline\",\n    },\n  };\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport useSWR from \"swr\";\nimport { useSession } from \"@inrupt/solid-ui-react\";\nimport { getContainerUrl } from \"../../stringHelpers\";\nimport { getContainer } from \"../../models/container\";\n\nexport default function useContainer(iri) {\n  const session = useSession();\n  const { sessionRequestInProgress } = session;\n  const url = getContainerUrl(iri);\n\n  async function fetchContainer(fetch) {\n    return getContainer(url, { fetch });\n  }\n\n  return useSWR(\n    [\"container\", url, sessionRequestInProgress],\n    async () => {\n      if (!url || sessionRequestInProgress) return null;\n      return fetchContainer(session.fetch);\n    },\n    { revalidateOnFocus: false, refreshInterval: 0, errorRetryInterval: 2000 }\n  );\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\n// TODO: replace with solid-client functions\n// TODO: replace mock data with real data\n\n/* Model constants */\n\nexport const MOCK_PURPOSES_DESCRIPTIONS = {\n  \"https://example.com/SomeSpecificPurpose\": \"Some Specific Purpose\",\n  \"https://example.com/SomeSpecificPurposeA\": \"Another Purpose\",\n  \"https://example.com/SomeSpecificPurposeB\": \"A Different Purpose\",\n};\n\n/* Model functions */\n\nexport function getPurposeUrls(consentRequest) {\n  if (!consentRequest) return null;\n  return Array.isArray(consentRequest?.credentialSubject?.hasConsent)\n    ? consentRequest?.credentialSubject?.hasConsent[0].forPurpose // getting first item in array for now\n    : consentRequest?.credentialSubject?.hasConsent.forPurpose;\n}\n\nexport function getIssuanceDate(consentRequest) {\n  return consentRequest?.issuanceDate;\n}\n\nexport function getExpiryDate(consentRequest) {\n  return consentRequest?.expirationDate;\n}\n\nexport function getRequestedAccesses(consentRequest) {\n  return Array.isArray(consentRequest?.credentialSubject?.hasConsent)\n    ? consentRequest?.credentialSubject?.hasConsent\n    : [consentRequest?.credentialSubject?.hasConsent];\n}\n\nexport function getRequestedResourcesIris(sectionDetails) {\n  return sectionDetails.forPersonalData;\n}\n\nexport function getAccessMode(access) {\n  return access.mode;\n}\n\nexport function getRequestorWebId(consentRequest) {\n  return consentRequest?.credentialSubject?.id;\n}\n\nexport function getVcId(vc) {\n  return vc?.id;\n}\n","/**\n * Copyright 2020 Inrupt Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal in\n * the Software without restriction, including without limitation the rights to use,\n * copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the\n * Software, and to permit persons to whom the Software is furnished to do so,\n * subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED,\n * INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A\n * PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION\n * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\n * SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nimport { getIriAll, getSolidDataset, getThing } from \"@inrupt/solid-client\";\nimport { ldp } from \"rdf-namespaces\";\n\n/* Model functions */\n\nexport async function getContainer(url, { fetch }) {\n  const dataset = await getSolidDataset(url, { fetch });\n  const thing = getThing(dataset, url);\n  return { dataset, thing };\n}\n\nexport function getContainerResourceUrlAll({ thing }) {\n  if (!thing) return [];\n  return getIriAll(thing, ldp.contains);\n}\n"],"names":["oidcPrefix","TOS_PREDICATE","POLICY_PREDICATE","CONTACTS_PREDICATE","LOGO_PREDICATE","APP_WEBID","contactThing","chain","createThing","url","t","addStringNoLocale","foaf","vcard","addUrl","dataset","setThing","createSolidDataset","mockApp","vcardExtras","rdf","schema","mockAppDataset","useStyles","makeStyles","theme","createStyles","infoTooltipContainer","display","infoButton","padding","minWidth","infoIcon","margin","spacing","color","palette","info","main","styles","InfoTooltip","tooltipText","label","className","classes","bem","useBem","clsx","Tooltip","title","arrow","Button","root","defaultProps","defaultValues","consentRequest","setConsentRequest","ConsentRequestContext","createContext","ConsentRequestProvider","children","Provider","value","flexGrow","flexDirection","alignItems","gap","border","borderColor","grey","borderRadius","boxShadow","width","maxWidth","minHeight","justifyContent","marginBottom","box__content","fontWeight","marginLeft","paddingLeft","boxSizing","fontSize","textTransform","whiteSpace","position","content","height","bottom","backgroundColor","header__content","fontFamily","typography","body2","textAlign","icons","iconColor","marginRight","primary","background","cursor","form__controls","breakpoints","up","heading__uppercase","footer__links","marginTop","avatar","h6","left","top","wordBreak","purpose","A100","font","text","overflow","zIndex","paper","paddingBottom","paddingTop","purposeLabel","icon","backgroundImage","outline","outlineOffset","checkedIcon","removeExistingValues","prevAccesses","newAccesses","withDeletedAccesses","map","item","i","shouldBeRemoved","forEach","a","JSON","stringify","accessModes","index","resourceIri","checked","push","includes","previousAccess","filter","checkedAccesses","uniqueObjects","ResourceSwitch","props","isChecked","handleOnChange","FormControlLabel","key","control","Switch","onChange","Typography","variant","name","getResourceName","labelPlacement","renderSwitch","overrideCheck","setSelectedAccess","modesObject","isContainerIri","ContainerSwitch","RequestSubSection","useContainer","container","data","isValidating","useState","resourcesIris","setResourcesIris","Array","length","fill","setIsChecked","useEffect","getSourceUrl","urls","getContainerResourceUrlAll","updatedAllCheckedState","toggleAllSwitches","accesses","prevState","updatedCheckedState","containerResourceIri","isExpanded","setIsExpanded","containerChecked","setContainerChecked","inputProps","type","onClick","RequestSection","agentName","sectionDetails","requestedResourcesIris","getRequestedResourcesIris","accessMode","getAccessMode","allTogglesSelected","setAllTogglesSelected","useMemo","read","some","el","write","append","toggle","undefined","FormControl","component","getPolicyDetailFromAccess","FormGroup","row","DateInput","selectedDate","setSelectedDate","datepickerOpen","setDatepickerOpen","handleDateChange","setDateForever","useContext","expirationDate","getExpiryDate","clickRef","useRef","useOutsideClick","ref","InputBase","placeholder","format","readOnly","IconButton","disabled","DatePicker","disableToolbar","orientation","disablePast","PurposeCheckBox","handleSelectPurpose","description","setChecked","Checkbox","disableRipple","e","target","CONSENT_REQUEST_NO_ACCESS_DIALOG","ConsentRequestForm","agentDetails","agentWebId","router","useRouter","session","useSession","redirectUrl","query","selectedAccess","purposes","getPurposeUrls","selectedPurposes","setSelectedPurposes","selectedResources","ConfirmationDialogContext","confirmed","open","setContent","setOpen","setTitle","closeDialog","setConfirmText","setOmitCancelButton","confirmationSetup","setConfirmationSetup","requestedAccesses","getRequestedAccesses","Date","DIALOG_CONTENT","NO_PURPOSE_CONTENT","requestor","getRequestorWebId","handleSubmit","preventDefault","approveAccessRequest","webId","access","resources","fetch","signedVc","getVcId","handleDenyAccessRequest","denyAccessRequest","isArray","onSubmit","align","List","ListItem","date","consent","alignContent","footer__link","ConsentShow","useRedirectIfLoggedOut","requestVc","setAgentDetails","agentUrl","agentPolicy","agentTOS","req","parse","atob","getProfileResource","profileDataset","agentProfile","getThing","agentContactsUrl","getUrl","agentContacts","getStringNoLocale","M","utils","DateFnsUtils","Link","href","iri","sessionRequestInProgress","getContainerUrl","fetchContainer","getContainer","useSWR","revalidateOnFocus","refreshInterval","errorRetryInterval","credentialSubject","hasConsent","forPurpose","getIssuanceDate","issuanceDate","forPersonalData","mode","id","vc","getSolidDataset","thing","getIriAll","ldp"],"sourceRoot":""}