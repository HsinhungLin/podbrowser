"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17],{25476:function(n,t,r){r.d(t,{Z:function(){return a}});var e=r(29773),u=r(67294);function a(n){var t=n.error;return u.createElement(e.v0,{variant:"error","data-testid":"error-message"},t.message)}},38775:function(n,t,r){r.d(t,{Z:function(){return p}});var e=r(50029),u=r(87794),a=r.n(u),c=r(35345),i=r(40478),o=r(44770),s=r(27270),f=r(55612);function p(){var n=(0,i.useSession)().fetch,t=(0,o.Z)(),r=t.data,u=t.error;return(0,c.ZP)(["addressBook",r],(0,e.Z)(a().mark((function t(){var e,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r||u){t.next=2;break}return t.abrupt("return",null);case 2:if(!u){t.next=4;break}throw u;case 4:if(e=r.pods[0]){t.next=7;break}throw new Error("No pod root found for authenticated user");case 7:return c=(0,s.rz)(e),t.prev=8,t.next=11,(0,s.rB)(c,n);case 11:return t.abrupt("return",t.sent);case 14:if(t.prev=14,t.t0=t.catch(8),!(0,f.ky)(t.t0,f.O1.NOT_FOUND)){t.next=18;break}return t.abrupt("return",(0,s.$M)(c,r.webId));case 18:throw t.t0;case 19:case"end":return t.stop()}}),t,null,[[8,14]])}))),{errorRetryCount:0})}},16677:function(n,t,r){r.d(t,{Z:function(){return p}});var e=r(50029),u=r(27812),a=r(87794),c=r.n(a),i=r(40478),o=r(35345),s=r(38775),f=r(59245);function p(n){var t=(0,i.useSession)().fetch,r=(0,s.Z)(),a=r.data,p=r.error;return(0,o.ZP)(["contacts",a].concat((0,u.Z)(n)),(0,e.Z)(c().mark((function r(){return c().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a||p){r.next=2;break}return r.abrupt("return",null);case 2:if(!p){r.next=4;break}throw p;case 4:return r.abrupt("return",(0,f.uE)(a,n,t));case 5:case"end":return r.stop()}}),r)}))),{errorRetryCount:0})}},27270:function(n,t,r){r.d(t,{rz:function(){return x},Wh:function(){return w},IV:function(){return y},$M:function(){return k},rB:function(){return g}});var e=r(50029),u=r(87794),a=r.n(u),c=r(95287),i=r(68504),o=r(36163),s=r(9749),f=r(80480),p=r(70936),h=r(15259),l=r(38603),d="Unable to load main index";function x(n){return(0,p.Vo)(n,"contacts/")}function v(n){return(0,p.Vo)(n,"index.ttl")}function w(n){try{return(0,c.j5)(n.thing)}catch(t){return"".concat(v(n.containerUrl),"#this")}}function y(n){return(0,i.LH)(n.dataset)||v(n.containerUrl)}function k(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Contacts",e=(0,h.tS)((0,c.Lx)({name:"this"}),(function(n){return(0,o.qg)(n,f.E_.type,(0,l.BC)("AddressBook"))}),(function(n){return(0,o.qg)(n,f.tR.owner,t)}),(function(n){return(0,o.go)(n,f.dc.title,r)}));return{containerUrl:n,dataset:(0,c.lY)((0,s.HM)(),e),thing:e}}function g(n,t){return b.apply(this,arguments)}function b(){return(b=(0,e.Z)(a().mark((function n(t,r){var e,u,i,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=v(t),n.next=3,(0,s.OE)(e,{fetch:r});case 3:if(u=n.sent,i="".concat(e,"#this"),o=(0,c.YY)(u,i)){n.next=8;break}throw new Error(d);case 8:return n.abrupt("return",{containerUrl:t,dataset:u,thing:o});case 9:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},59893:function(n,t,r){r.d(t,{uT:function(){return d},BW:function(){return x},Dl:function(){return w}});var e=r(50029),u=r(87794),a=r.n(u),c=r(35863),i=r(9749),o=r(95287),s=r(55033),f=r(70936),p=r(27270),h=r(46611);function l(n,t){return(0,f.Vo)(n,t.indexFile)}function d(n,t){return(0,c.Gr)(n.thing,t.indexFilePredicate)}function x(n,t,r){return v.apply(this,arguments)}function v(){return(v=(0,e.Z)(a().mark((function n(t,r,e){var u,o;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(u=(0,c.Gr)(t.thing,r.indexFilePredicate))){n.next=7;break}return n.next=4,(0,h.n)(u,e);case 4:n.t0=n.sent,n.next=8;break;case 7:n.t0=(0,i.HM)();case 8:return o=n.t0,n.abrupt("return",{dataset:o,type:r});case 10:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function w(n,t,r){return y.apply(this,arguments)}function y(){return(y=(0,e.Z)(a().mark((function n(t,r,e){var u,c,f;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=l(t.containerUrl,r),c=(0,p.IV)(t),n.next=4,(0,i.ek)(c,(0,o.lY)(t.dataset,(0,s.x)(t.thing,r.indexFilePredicate,u)),{fetch:e});case 4:return f=n.sent,n.abrupt("return",{containerUrl:t.containerUrl,dataset:f,thing:(0,o.YY)(f,(0,o.j5)(t.thing,c))});case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},58928:function(n,t,r){r.d(t,{Wz:function(){return E},ZF:function(){return C},hz:function(){return S},iE:function(){return G}});var e=r(50029),u=r(87794),a=r.n(u),c=r(35863),i=r(95287),o=r(55033),s=r(36163),f=r(9749),p=r(39918),h=r(68504),l=r(76403),d=r(80480),x=r(72045),v=r(15259),w=r(70936),y=r(59893),k=r(38603),g=r(46611),b=(r(59245),r(27270)),Y=r(22374),m=(0,k.BC)("groupIndex"),Z="Group",_="index.ttl",E={indexFile:"groups.ttl",container:Z,indexFilePredicate:m,contactTypeUrl:d.w_.Group,isOfType:function(n){return(0,c.MQ)(n,d.E_.type).includes(d.w_.Group)}};function B(n,t){return(0,v.tS)((0,i.Lx)(t),(function(n){return(0,o.x)(n,d.E_.type,d.w_.Group)}),(function(t){return(0,o.ZB)(t,d.ay.name,n)}))}function O(n,t,r){var e=(0,b.Wh)(t),u=(0,i.YY)(n,e)||(0,i.Lx)({url:e});return(0,s.qg)(u,(0,k.BC)("includesGroup"),r)}function U(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,x.Z)();return(0,w.Vo)(n.containerUrl,Z,t,_)}function C(n,t,r){return F.apply(this,arguments)}function F(){return(F=(0,e.Z)(a().mark((function n(t,r,e){var u,c,o,s,p,h;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=U(t),c="".concat(u,"#this"),n.next=4,(0,f.ek)(u,(0,v.tS)((0,f.HM)(),(function(n){return(0,i.lY)(n,B(r,{name:"this"}))}),(function(n){return(0,i.lY)(n,O(n,t,c))})),{fetch:e});case 4:if(o=n.sent,s=t,p=(0,y.uT)(t,E)){n.next=12;break}return n.next=10,(0,y.Dl)(t,E,e);case 10:s=n.sent,p=(0,y.uT)(s,E);case 12:return n.next=14,(0,g.l)(p,e,(function(n){return(0,i.lY)(n,B(r,{url:c}))}),(function(n){return(0,i.lY)(n,O(n,t,c))}));case 14:return h=n.sent,n.abrupt("return",{addressBook:s,group:{dataset:o,thing:(0,i.YY)(o,c)},groupIndex:{dataset:h,type:E}});case 16:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function S(n,t,r,e){return T.apply(this,arguments)}function T(){return T=(0,e.Z)(a().mark((function n(t,r,e,u){var c,l,x,w,k,g,b,m=arguments;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=m.length>4&&void 0!==m[4]?m[4]:{},l=v.tS.apply(void 0,[r.thing,function(n){return(0,o.ZB)(n,d.ay.name,e)}].concat([function(n){return(0,p.e3)(n,d.w_.note,(0,Y.ys)(r))},function(n){return c[d.w_.note]?(0,s.go)(n,d.w_.note,c[d.w_.note]):n}])),n.next=4,(0,f.ek)((0,h.LH)(r.dataset),(0,i.lY)(r.dataset,l),{fetch:u});case 4:return x=n.sent,w=(0,y.uT)(t,E),n.next=8,(0,f.OE)(w,{fetch:u});case 8:return k=n.sent,g=(0,i.YY)(k,(0,i.j5)(r.thing)),n.next=12,(0,f.ek)(w,(0,i.lY)(k,(0,o.ZB)(g,d.ay.name,e)),{fetch:u});case 12:return b=n.sent,n.abrupt("return",{group:{dataset:x,thing:(0,i.YY)(x,(0,i.j5)(r.thing))},groupIndex:{dataset:b,type:E}});case 14:case"end":return n.stop()}}),n)}))),T.apply(this,arguments)}function G(n,t,r){return I.apply(this,arguments)}function I(){return(I=(0,e.Z)(a().mark((function n(t,r,e){var u,o,s,h,x,g,b;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=(0,i.j5)(r.thing),o=(0,y.uT)(t,E),n.next=4,(0,f.OE)(o,{fetch:e});case 4:return s=n.sent,n.next=7,(0,f.ek)(o,(0,v.tS)(s,(function(n){return(0,i.Xz)(n,u)}),(function(n){return(0,i.lY)(n,(0,v.tS)((0,i.YY)(s,(0,i.j5)(t.thing)),(function(n){return(0,p.Rw)(n,(0,k.BC)("includesGroup"),u)})))})),{fetch:e});case 7:return h=n.sent,n.next=10,(0,l._I)(u,{fetch:e});case 10:return x=(0,w.Nk)(u),n.next=13,(0,f.OE)(x,{fetch:e});case 13:if(g=n.sent,b=(0,i.YY)(g,x,{fetch:e}),(0,c.MQ)(b,d.Vm.contains).length>0){n.next=19;break}return n.next=19,(0,f.Ct)(x,{fetch:e});case 19:return n.abrupt("return",{dataset:h,type:E});case 20:case"end":return n.stop()}}),n)})))).apply(this,arguments)}},59245:function(n,t,r){r.d(t,{RY:function(){return o},uE:function(){return f}});var e=r(50029),u=r(87794),a=r.n(u),c=r(95287),i=r(59893);function o(n){var t=n.dataset,r=n.type;return(0,c.oY)(t).filter((function(n){return r.isOfType(n)})).map((function(n){return{thing:n,dataset:t}}))}function s(n){return n.map((function(n){return o(n)})).reduce((function(n,t){return n.concat(t)}),[])}function f(n,t,r){return p.apply(this,arguments)}function p(){return p=(0,e.Z)(a().mark((function n(t,r,u){var c;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all(r.map(function(){var n=(0,e.Z)(a().mark((function n(r){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,i.BW)(t,r,u));case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()));case 2:return c=n.sent,n.abrupt("return",s(c));case 4:case"end":return n.stop()}}),n)}))),p.apply(this,arguments)}},46611:function(n,t,r){r.d(t,{n:function(){return s},l:function(){return p}});var e=r(50029),u=r(87794),a=r.n(u),c=r(9749),i=r(55612),o=r(15259);function s(n,t){return f.apply(this,arguments)}function f(){return(f=(0,e.Z)(a().mark((function n(t,r){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,c.OE)(t,{fetch:r});case 3:return n.abrupt("return",n.sent);case 6:if(n.prev=6,n.t0=n.catch(0),!(0,i.ky)(n.t0,i.O1.NOT_FOUND)){n.next=10;break}return n.abrupt("return",(0,c.HM)());case 10:throw n.t0;case 11:case"end":return n.stop()}}),n,null,[[0,6]])})))).apply(this,arguments)}function p(n,t){return h.apply(this,arguments)}function h(){return h=(0,e.Z)(a().mark((function n(t,r){var e,u,i,f,p=arguments;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s(t,r);case 2:for(e=n.sent,u=p.length,i=new Array(u>2?u-2:0),f=2;f<u;f++)i[f-2]=p[f];return n.abrupt("return",(0,c.ek)(t,o.tS.apply(void 0,[e].concat(i)),{fetch:r}));case 5:case"end":return n.stop()}}),n)}))),h.apply(this,arguments)}},22374:function(n,t,r){r.d(t,{ex:function(){return p},ZI:function(){return l},kF:function(){return d},ys:function(){return x}});var e=r(50029),u=r(87794),a=r.n(u),c=r(9749),i=r(95287),o=r(35863),s=r(80480),f=r(28e3);function p(n,t){return h.apply(this,arguments)}function h(){return(h=(0,e.Z)(a().mark((function n(t,r){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.OE)((0,f.SV)(t),{fetch:r});case 2:return e=n.sent,n.abrupt("return",{dataset:e,thing:(0,i.YY)(e,t)});case 4:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function l(n){return(0,i.j5)(n.thing)}function d(n){return(0,o.oX)(n.thing,s.ay.name)}function x(n){return(0,o.oX)(n.thing,s.w_.note)||""}}}]);
//# sourceMappingURL=17-18cdc771bbfdb234.js.map