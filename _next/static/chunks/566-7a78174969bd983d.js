"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{69795:function(e,t,r){r.d(t,{Z:function(){return Z}});var n=r(50029),o=r(87794),a=r.n(o),u=r(67294),c=r(40478),i=r(11719),s=r(10150),l=r(54303),f=r(86010),d=r(95287),m=r(35863),k=function(e,t){var r="2px ".concat(t?e.palette.text.primary:e.palette.grey[400]);return(0,l.createStyles)(e,["icons","button"],{"bookmark-button":{width:"100%",height:"100%","&:hover":{textDecoration:"none"}},"bookmark-menu-item":{textAlign:"left",display:"flex",alignItems:"center",padding:e.spacing(1),borderRadius:"unset","& i":{padding:e.spacing(0,.8)}},"bookmark-icon-unselected":{color:e.palette.background.paper,textStroke:r},"bookmark-icon-selected":e.icons.iconColor(e.palette.primary.main),"bookmark-text":{fontSize:e.typography.htmlFontSize,textTransform:"none",letterSpacing:"normal",padding:0}})},p=r(95552),b=r(26592),v=r(50998);function h(e){var t=e.children,r=e.className,n=e.menuItem,o=e.clickHandler,a=e.disabled;return n?u.createElement(v.Z,{button:!0,disabled:a,"data-testid":"bookmark-list-item-button",key:"bookmark-pod",onClick:o,className:r},t):u.createElement("button",{type:"button","data-testid":"bookmark-button",className:r,onClick:o,disabled:a},t)}h.defaultProps={children:null,className:null,menuItem:!1,clickHandler:function(){},disabled:!1};function x(e){var t=e.bookmarked,r=e.addText,n=e.removeText,o=e.className,a=r||"Add Bookmark",c=n||"Remove Bookmark";return u.createElement("span",{"data-testid":"bookmark-text",className:o},t?c:a)}x.defaultProps={bookmarked:null,addText:null,removeText:null,className:null};var g=r(46903);function Z(e){var t=e.iri,r=e.menuItem,o=e.withText,v=e.addText,Z=e.removeText,y=e.profileName,w=(0,c.useSession)().session,O=(0,u.useContext)(g.ZP),P=O.setAlertOpen,S=O.setMessage,E=O.setSeverity,N=w.fetch,I=(0,i.Z)((function(e){return(0,s.Z)(k(e,r))})),T=(0,l.useBem)(I()),_=(0,u.useContext)(b.ZP),B=_.bookmarks,C=_.setBookmarks,j=(0,u.useState)(),D=j[0],R=j[1],U=(0,u.useState)(!0),Y=U[0],L=U[1];(0,u.useEffect)((function(){if(B){var e=B.dataset;if(e){var r=function(e,t){return(0,d.oY)(t).map((function(e){return(0,m.Gr)(e,p._c)})).includes(e)}(t,e);R(r),L(!1)}}}),[B,t,R,L]);var M=function(e){var t=e.bookmarks,r=e.iri,o=e.setSeverity,u=e.setMessage,c=e.setAlertOpen,i=e.bookmarked,s=e.setBookmarks,l=e.setBookmarked,f=e.setDisabled,d=e.profileName,m=e.fetch;return(0,n.Z)(a().mark((function e(){var n,k,b,v,h;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(!0),!i){e.next=8;break}return e.next=4,(0,p.eM)(r,t,m);case 4:n=e.sent,k="Bookmark removed",e.next=12;break;case 8:return e.next=10,(0,p.Rl)(r,t,d,m);case 10:n=e.sent,k="Resource added to bookmarks";case 12:v=(b=n).response,(h=b.error)?(o("error"),u(h),c(!0)):(l(!i),o("success"),u(k),c(!0),s(v));case 14:case"end":return e.stop()}}),e)})))}({bookmarks:B,bookmarked:D,iri:t,setSeverity:E,setMessage:S,setAlertOpen:P,setBookmarked:R,setBookmarks:C,setDisabled:L,profileName:y,fetch:N}),A=D?"bookmark-icon-selected":"bookmark-icon-unselected",H=r?(0,f.Z)(T("bookmark-menu-item")):(0,f.Z)(T("button","text"),T("bookmark-button"),r&&T("bookmark-menu-item"));return u.createElement(h,{className:H,menuItem:r,clickHandler:M,disabled:Y},u.createElement("i",{className:(0,f.Z)(T("icon-star"),T("icon"),T(A)),"aria-label":"bookmark",alt:"bookmark button"}),(o||r)&&u.createElement(x,{bookmarked:D,addText:v,removeText:Z,className:T("bookmark-text")}))}Z.defaultProps={menuItem:!1,withText:!1,addText:null,removeText:null,profileName:null}},84923:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(4730),o=r(67294),a=r(41664),u=r(82349),c=r(99146),i=["children","action","resourceIri","containerIri"];function s(e){var t=e.children,r=e.action,s=e.resourceIri,l=e.containerIri,f=(0,n.Z)(e,i),d=(0,o.useContext)(u.Z).currentUri,m=s||d,k=l||d;return o.createElement(a.default,{href:(0,c.YU)(r,m,k),replace:!0,prefetch:!1},o.createElement("a",f,t))}s.defaultProps={action:null,children:null,className:null,resourceIri:null,containerIri:null,ref:null}},47687:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(67294),o=r(86010),a=r(54303),u=r(11719),c=r(10150);var i=(0,u.Z)((function(e){return(0,c.Z)(function(e){return(0,a.createStyles)(e,["icons","table"],{table__icon:{marginLeft:"0.5em"}})}(e))}));function s(e){var t=e.sorted,r=e.sortedDesc,u=(0,a.useBem)(i());return t?n.createElement("i",{className:(0,o.Z)(u(r?"icon-caret-down":"icon-caret-up"),u("table__icon"))}):null}s.defaultProps={sortedDesc:null}},26592:function(e,t,r){r.d(t,{pm:function(){return v},ZP:function(){return h}});var n=r(16835),o=r(67294),a=r(50029),u=r(87794),c=r.n(u),i=r(40478),s=r(46903),l=r(44770),f=r(70936),d=r(28e3),m=r(95552),k=r(55612);var p={bookmarks:null,setBookmarks:function(){}},b=(0,o.createContext)(p);function v(e){var t=e.children,r=function(){var e=(0,l.Z)().data,t=(0,i.useSession)().session,r=(0,o.useContext)(s.ZP),n=r.setMessage,u=r.setAlertOpen,p=r.setSeverity,b=(0,o.useState)(),v=b[0],h=b[1],x=(0,o.useState)(),g=x[0],Z=x[1],y=t.fetch;return(0,o.useEffect)((function(){if(t.info.isLoggedIn&&e){var r=e.pods[0],o=(0,f.Vo)(r,"bookmarks/index.ttl");(0,a.Z)(c().mark((function e(){var t,r,a,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,d.RX)(o,y);case 3:if(t=e.sent,r=t.response,!(a=t.error)||!(0,k.ky)(a,k.O1.NOT_FOUND)){e.next=13;break}return e.next=9,(0,m.O3)(o,y);case 9:i=e.sent,h(i),e.next=14;break;case 13:h(r);case 14:e.next=22;break;case 16:e.prev=16,e.t0=e.catch(0),h([]),p("error"),n(e.t0),u(!0);case 22:case"end":return e.stop()}}),e,null,[[0,16]])})))()}}),[e,y,h,g,u,n,p,t]),[v,Z]}(),u=(0,n.Z)(r,2),p=u[0],v=u[1];return o.createElement(b.Provider,{value:{bookmarks:p,setBookmarks:v}},t)}v.defaultProps={children:null};var h=b},82349:function(e,t,r){r.d(t,{w:function(){return u}});var n=r(67294),o=r(6578),a=(0,n.createContext)({currentUri:""});function u(e){var t=e.children,r=e.currentUri,u=(0,o.Z)(r);return n.createElement(a.Provider,{value:{baseUri:u,currentUri:r}},t)}u.defaultProps={children:null,currentUri:null},t.Z=a},6578:function(e,t,r){r.d(t,{Z:function(){return b}});var n=r(67294),o=r(68504),a=r(1124),u=r(44770),c=r(82708),i=r(50029),s=r(87794),l=r.n(s),f=r(40478),d=r(35345),m=r(9749),k="getDataset";function p(e){return"/"===e[e.length-1]?e:"".concat(e,"/")}function b(e){var t=(0,n.useState)(null),r=t[0],s=t[1],b=(0,u.Z)().data,v=(0,c.Z)(e,{errorRetryCount:0}).data,h=(0,n.useState)(null),x=h[0],g=h[1],Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,f.useSession)().fetch;return(0,d.ZP)([e,k],(0,i.Z)(l().mark((function t(){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",null);case 2:return t.abrupt("return",(0,m.OE)(e,{fetch:r}));case 3:case"end":return t.stop()}}),t)}))),t)}(x),y=Z.data,w=Z.error;return(0,n.useEffect)((function(){if(e&&"undefined"!==e&&b){var t=(0,a._3)(b,e);if(t)s(p(t));else{var r=(0,o.Ao)(v);if(g(r),r&&!w){if(r&&y){var n=(0,a.sY)(r,y),u=(0,a._3)(n,e);s(u)}}else{var c=new URL(e).origin;s(p(c))}}}else s(null)}),[e,y,w,b,v]),r}},82708:function(e,t,r){r.d(t,{Z:function(){return c}});var n=r(68504),o=r(40478),a=r(35345),u="getResourceInfo";function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,o.useSession)(),c=r.fetch;return(0,a.ZP)(e&&"undefined"!==e?[e,u]:null,(function(){return(0,n.yJ)(e,{fetch:c},t)}))}},99146:function(e,t,r){r.d(t,{LM:function(){return a},YU:function(){return u},R4:function(){return c}});var n=r(59499);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){return"/resource/".concat(encodeURIComponent(e))}var u=function(e,t,r){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({pathname:r?a(r):"/resource/[iri]"},e?{query:{action:e,resourceIri:t}}:{})};function c(e,t,r,n){return n.replace(u(e,t,void 0),u(e,t,r))}},95552:function(e,t,r){r.d(t,{O3:function(){return k},_c:function(){return b},ZT:function(){return v},Rl:function(){return h},eM:function(){return g}});var n=r(16835),o=r(50029),a=r(87794),u=r.n(a),c=r(95287),i=r(9749),s=r(35863),l=r(36163),f=r(80480),d=r(28e3),m=r(15259);function k(e,t){return p.apply(this,arguments)}function p(){return(p=(0,o.Z)(u().mark((function e(t,r){var n,o,a,s,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,c.Lx)(),o=(0,c.lY)((0,i.HM)(),n),a={iri:t,dataset:o},e.next=5,(0,d.L$)(a,r);case 5:return s=e.sent,l=s.response,e.abrupt("return",{dataset:l,iri:t});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b="http://www.w3.org/2002/01/bookmark#recalls",v="http://www.w3.org/2002/01/bookmark#Bookmark";function h(e,t,r,n){return x.apply(this,arguments)}function x(){return(x=(0,o.Z)(u().mark((function e(t,r,o,a){var i,k,p,h,x,g,Z,y;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=r.dataset,k=r.iri,p=(0,d.Yj)(t),h=!p.length&&o?"".concat(o,"'s Pod"):p,x=(0,c.oY)(i).filter((function(e){return(0,s.Gr)(e,b)===t})),g=(0,n.Z)(x,1),!g[0]){e.next=6;break}return e.abrupt("return",{response:r,error:null});case 6:return Z=(0,m.WV)({},(function(e){return(0,l.qg)(e,f.E_.type,v)}),(function(e){return(0,l.go)(e,f.KO.title,h)}),(function(e){return(0,l.qg)(e,b,t)}),(function(e){return(0,l.rm)(e,f.KO.created,new Date)})),y={dataset:(0,c.lY)(i,Z),iri:k},e.abrupt("return",(0,d.L$)(y,a));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e,t,r){return Z.apply(this,arguments)}function Z(){return(Z=(0,o.Z)(u().mark((function e(t,r,o){var a,i,l,f,m,k;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.dataset,i=r.iri,l=(0,c.oY)(a).filter((function(e){return(0,s.Gr)(e,b)===t})),f=(0,n.Z)(l,1),m=f[0]){e.next=4;break}return e.abrupt("return",{response:r,error:null});case 4:return k={dataset:(0,c.Xz)(a,m),iri:i},e.abrupt("return",(0,d.L$)(k,o));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=566-7a78174969bd983d.js.map